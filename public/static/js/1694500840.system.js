import{r as e,h as s,p as a,m as t,u as l,i as n,a as o,J as c,o as i,c as u,K as r,e as d,b as m,d as p,w as f,f as g,x as b,k as h,l as v,F as y,j as w,t as _,I as x,v as V,R as k,P as z,U as S,g as U,W as C}from"./1694500840.index.js";import{_ as O}from"./1694500840.api-key.js";import{_ as j,a as q}from"./1694500840.page-limit.js";import{_ as R}from"./1694500840.qps-black.js";import{_ as K}from"./1694500840.page2.js";import{_ as I}from"./1694500840.article2.js";const J={class:"card mb-3"},A={class:"card-body"},N={class:"text-muted text-uppercase mt-0"},D=m("br",null,null,-1),E={class:"d-inline-flex align-items-center"},$=m("span",{class:"ms-1"},"邮件服务",-1),P={class:"m-b-20"},T=m("span",{class:"badge bg-danger font-white"}," 推荐 ",-1),W={class:"text-muted"},B=m("strong",{class:"flex-center"},"配置邮件服务",-1),L={class:"row"},M={class:"col-md-6"},X={class:"form-group mb-3"},F={class:"form-label required"},Y=m("span",{class:"ms-1"},"邮件服务器地址：",-1),G={class:"col-md-6"},H={class:"form-group mb-3"},Q={class:"form-label required"},Z=m("span",{class:"ms-1"},"邮件服务端口：",-1),ee={class:"row"},se={class:"col-md-6"},ae={class:"form-group mb-3"},te={class:"form-label required"},le=m("span",{class:"ms-1"},"邮件账号：",-1),ne={class:"col-md-6"},oe={class:"form-group mb-3"},ce={class:"form-label required"},ie=m("span",{class:"ms-1"},"服务密码：",-1),ue={class:"row"},re={class:"col-md-6"},de={class:"form-group mb-3"},me={class:"form-label"},pe=m("span",{class:"ms-1"},"邮件昵称：",-1),fe={class:"col-md-6"},ge={class:"form-group mb-3"},be={class:"form-label"},he=m("span",{class:"ms-1"},"邮件签名：",-1),ve={class:"col-12"},ye={class:"form-group mb-3"},we={class:"form-label"},_e=m("span",{class:"ms-1"},"接收者邮箱：",-1),xe=m("span",{class:"ms-1"},"邮件服务测试",-1),Ve={__name:"sms-email",emits:["refresh"],setup(w,{expose:_,emit:x}){const V=e({struct:{email:null,host:null,port:null,account:null,password:null,nickname:null,sign_name:null,drive:{email:null,default:null}},status:{finish:!1,active:!1,dialog:!1,loading:!0,wait:!1,test:!1},backup:{}});s((async()=>{await k.init()}));const k={init:async()=>{V.status.finish=!1,V.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/sms",{name:"email"});V.status.loading=!1,200===e&&(V.struct=s,V.backup=JSON.parse(JSON.stringify(s)),V.status.finish=!0)},show(){if(!V.status.finish)return t.warn("邮件服务配置获取失败，无法进行配置！");V.status.dialog=!0},change:async e=>{const{code:s,msg:l}=await a.put("/api/toml/sms-drive",{email:e?"email":""});200!==s&&(V.status.active=!e,t.error(l))},save:async()=>{if(!l.object.equal(V.struct,V.backup,["host","port","account","password"]))return t.warn("请先完成邮件服务测试");if(l.is.empty(V.struct.host))return t.warn("请填写邮件服务器地址！");if(l.is.empty(V.struct.port))return t.warn("请填写邮件服务器端口！");if(l.is.empty(V.struct.account))return t.warn("请填写邮件账号！");if(l.is.empty(V.struct.password))return t.warn("请填写服务密码！");if(l.is.empty(V.struct.sign_name))return t.warn("请填写邮件签名！");if(k.chinese(V.struct.nickname))return t.warn("邮件昵称不能包含中文！");V.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/sms-email",V.struct);if(V.status.wait=!1,200!==e)return t.error("保存失败："+s);V.status.dialog=!1},test:async()=>{if(l.is.empty(V.struct.email))return t.warn("请填写接收者邮箱！");if(l.is.empty(V.struct.host))return t.warn("请填写邮件服务器地址！");if(l.is.empty(V.struct.port))return t.warn("请填写邮件服务器端口！");if(l.is.empty(V.struct.account))return t.warn("请填写邮件账号！");if(l.is.empty(V.struct.password))return t.warn("请填写服务密码！");if(l.is.empty(V.struct.sign_name))return t.warn("请填写邮件签名！");if(!l.is.email(V.struct.email))return t.warn("接收者邮箱格式不正确！");if(k.chinese(V.struct.nickname))return t.warn("邮件昵称不能包含中文！");V.status.test=!0;const{code:e,msg:s,data:n}=await a.post("/api/toml/test-sms-email",V.struct);if(V.status.test=!1,200===e)return V.backup=JSON.parse(JSON.stringify(V.struct)),t.success(s);t.error(`${s}<br>${n}`)},chinese:e=>/[\u4e00-\u9fa5]/.test(e)};return n((()=>V.struct),(()=>{V.status.active="email"===V.struct.drive.email}),{deep:!0}),_({init:k.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),w=o("el-input-number"),_=o("el-button"),x=o("el-dialog"),z=c("loading");return i(),u(y,null,[r((i(),u("div",J,[m("div",A,[p(a,{name:"email",color:"rgb(var(--assist-color))",size:"55px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",N,[p(t,{placement:"top"},{content:f((()=>[g(" ● 用于发送验证码、通知等邮件相关的服务"),D,g(" ● 注册、找回密码、通知等功能都需要依赖此服务 ")])),default:f((()=>[m("span",E,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),$])])),_:1})]),m("h2",P,[p(l,{modelValue:d(V).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(V).status.active=e),onChange:k.change,disabled:!d(V).status.finish,"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),T,m("span",W,[g(" 因为不花钱，"),m("span",{onClick:s[1]||(s[1]=e=>k.show()),class:"text-white pointer"},"点我配置")])])])),[[z,d(V).status.loading]]),p(x,{modelValue:d(V).status.dialog,"onUpdate:modelValue":s[13]||(s[13]=e=>d(V).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[B])),default:f((()=>[m("div",L,[m("div",M,[m("div",X,[m("label",F,[p(t,{content:"邮件服务器地址，如：smtp.qq.com",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Y])])),_:1})]),p(n,{modelValue:d(V).struct.host,"onUpdate:modelValue":s[2]||(s[2]=e=>d(V).struct.host=e)},null,8,["modelValue"])])]),m("div",G,[m("div",H,[m("label",Q,[p(t,{content:"邮件服务端口，如：465",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Z])])),_:1})]),p(w,{modelValue:d(V).struct.port,"onUpdate:modelValue":s[3]||(s[3]=e=>d(V).struct.port=e),class:"w-100 d-flex","controls-position":"right",min:1},null,8,["modelValue"])])])]),m("div",ee,[m("div",se,[m("div",ae,[m("label",te,[p(t,{content:"邮件账号，如：xxx@qq.com",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),le])])),_:1})]),p(n,{modelValue:d(V).struct.account,"onUpdate:modelValue":s[4]||(s[4]=e=>d(V).struct.account=e)},null,8,["modelValue"])])]),m("div",ne,[m("div",oe,[m("label",ce,[p(t,{content:"服务密码，不是邮箱密码",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),ie])])),_:1})]),p(n,{modelValue:d(V).struct.password,"onUpdate:modelValue":s[5]||(s[5]=e=>d(V).struct.password=e),"show-password":""},null,8,["modelValue"])])])]),m("div",ue,[m("div",re,[m("div",de,[m("label",me,[p(t,{content:"邮件昵称，可以为空，但不能包含中文",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),pe])])),_:1})]),p(n,{modelValue:d(V).struct.nickname,"onUpdate:modelValue":s[6]||(s[6]=e=>d(V).struct.nickname=e)},null,8,["modelValue"])])]),m("div",fe,[m("div",ge,[m("label",be,[p(t,{content:"邮件签名，也就是邮件的主题或标题，不推荐为空",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),he])])),_:1})]),p(n,{modelValue:d(V).struct.sign_name,"onUpdate:modelValue":s[7]||(s[7]=e=>d(V).struct.sign_name=e)},null,8,["modelValue"])])]),m("div",ve,[m("div",ye,[m("label",we,[p(t,{content:"用于邮件服务测试接收测试信息的邮箱",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),_e])])),_:1})]),p(n,{modelValue:d(V).struct.email,"onUpdate:modelValue":s[9]||(s[9]=e=>d(V).struct.email=e),onKeydown:s[10]||(s[10]=b((e=>k.test()),["enter"])),class:"custom",placeholder:"请输入邮箱"},{suffix:f((()=>[p(_,{onClick:s[8]||(s[8]=e=>k.test()),loading:d(V).status.test},{default:f((()=>[d(V).status.test?v("",!0):(i(),h(a,{key:0,name:"email",size:"14px"})),xe])),_:1},8,["loading"])])),_:1},8,["modelValue"])])])])])),footer:f((()=>[p(_,{onClick:s[11]||(s[11]=e=>d(V).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(_,{onClick:s[12]||(s[12]=e=>k.save()),loading:d(V).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},ke={class:"card mb-3"},ze={class:"card-body"},Se={class:"text-muted text-uppercase mt-0"},Ue=m("br",null,null,-1),Ce={class:"d-inline-flex align-items-center"},Oe=m("span",{class:"ms-1"},"阿里云短信",-1),je={class:"m-b-20"},qe=m("span",{class:"badge bg-warning font-white"}," 企业 ",-1),Re={class:"text-muted"},Ke=m("strong",{class:"flex-center"},"配置阿里云短信服务",-1),Ie={class:"row"},Je={class:"col-md-6"},Ae={class:"form-group mb-3"},Ne={class:"form-label required"},De=m("span",{class:"ms-1"},"AccessKey ID：",-1),Ee={class:"col-md-6"},$e={class:"form-group mb-3"},Pe={class:"form-label required"},Te=m("span",{class:"ms-1"},"AccessKey Secret：",-1),We={class:"row"},Be={class:"col-md-4"},Le={class:"form-group mb-3"},Me={class:"form-label required"},Xe=m("span",{class:"ms-1"},"endpoint：",-1),Fe={class:"col-md-4"},Ye={class:"form-group mb-3"},Ge={class:"form-label required"},He=m("span",{class:"ms-1"},"短信签名：",-1),Qe={class:"col-md-4"},Ze={class:"form-group mb-3"},es={class:"form-label required"},ss=m("span",{class:"ms-1"},"验证码模板：",-1),as={class:"row"},ts={class:"col-12"},ls={class:"form-group mb-3"},ns={class:"form-label"},os=m("span",{class:"ms-1"},"接收者手机号：",-1),cs=m("span",{class:"ms-1"},"阿里云短信测试",-1),is={__name:"sms-aliyun",emits:["refresh"],setup(w,{expose:_,emit:x}){const V=e({struct:{access_key_id:null,access_key_secret:null,endpoint:null,sign_name:null,verify_code:null,phone:null,drive:{sms:null,default:null}},status:{finish:!1,active:!1,dialog:!1,loading:!0,test:!1,wait:!1},backup:{}});s((async()=>{await k.init()}));const k={init:async()=>{V.status.finish=!1,V.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/sms",{name:"aliyun"});V.status.loading=!1,200===e&&(V.struct=s,V.backup=JSON.parse(JSON.stringify(s)),V.status.finish=!0)},show(){if(!V.status.finish)return t.warn("SMS服务配置获取失败，无法进行配置！");V.status.dialog=!0},change:async e=>{const{code:s,msg:l}=await a.put("/api/toml/sms-drive",{sms:e?"aliyun":""});if(200===s)return x("refresh","sms-tencent");V.status.active=!e,t.error(l)},save:async()=>{if(!l.object.equal(V.struct,V.backup,["access_key_id","access_key_secret","endpoint","sign_name","verify_code"]))return t.warn("请先完成阿里云短信测试");if(l.is.empty(V.struct.access_key_id))return t.warn("请填写阿里云AccessKey ID！");if(l.is.empty(V.struct.access_key_secret))return t.warn("请填写阿里云AccessKey Secret！");if(l.is.empty(V.struct.endpoint))return t.warn("请填写阿里云短信服务endpoint！");if(l.is.empty(V.struct.sign_name))return t.warn("请填写短信签名！");if(l.is.empty(V.struct.verify_code))return t.warn("请填写验证码模板！");V.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/sms-aliyun",V.struct);if(V.status.wait=!1,200!==e)return t.error("保存失败："+s);V.status.dialog=!1},test:async()=>{if(l.is.empty(V.struct.phone))return t.warn("请填写接收者手机号！");if(l.is.empty(V.struct.access_key_id))return t.warn("请填写阿里云AccessKey ID！");if(l.is.empty(V.struct.access_key_secret))return t.warn("请填写阿里云AccessKey Secret！");if(l.is.empty(V.struct.endpoint))return t.warn("请填写阿里云短信服务endpoint！");if(l.is.empty(V.struct.sign_name))return t.warn("请填写短信签名！");if(l.is.empty(V.struct.verify_code))return t.warn("请填写验证码模板！");if(!l.is.phone(V.struct.phone))return t.warn("接收者手机号格式不正确！");V.status.test=!0;const{code:e,msg:s,data:n}=await a.post("/api/toml/test-sms-aliyun",V.struct);if(V.status.test=!1,200===e)return V.backup=JSON.parse(JSON.stringify(V.struct)),t.success(s);t.error(`${s}<br>${n}`)}};return n((()=>V.struct),(()=>{V.status.active="aliyun"===V.struct.drive.sms}),{deep:!0}),_({init:k.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),w=o("el-button"),_=o("el-dialog"),x=c("loading");return i(),u(y,null,[r((i(),u("div",ke,[m("div",ze,[p(a,{name:"aliyun",color:"rgb(var(--assist-color))",size:"60px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",Se,[p(t,{placement:"top"},{content:f((()=>[g(" ● 用于发送验证码相关的服务"),Ue,g(" ● 注册、找回密码、通知等功能都需要依赖此服务 ")])),default:f((()=>[m("span",Ce,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),Oe])])),_:1})]),m("h2",je,[p(l,{modelValue:d(V).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(V).status.active=e),onChange:k.change,disabled:!d(V).status.finish,"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),qe,m("span",Re,[g(" 企业推荐这个，"),m("span",{onClick:s[1]||(s[1]=e=>k.show()),class:"text-white pointer"},"点我配置")])])])),[[x,d(V).status.loading]]),p(_,{modelValue:d(V).status.dialog,"onUpdate:modelValue":s[12]||(s[12]=e=>d(V).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[Ke])),default:f((()=>[m("div",Ie,[m("div",Je,[m("div",Ae,[m("label",Ne,[p(t,{content:"阿里云 AccessKey ID",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),De])])),_:1})]),p(n,{modelValue:d(V).struct.access_key_id,"onUpdate:modelValue":s[2]||(s[2]=e=>d(V).struct.access_key_id=e),"show-password":""},null,8,["modelValue"])])]),m("div",Ee,[m("div",$e,[m("label",Pe,[p(t,{content:"阿里云 AccessKey Secret",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Te])])),_:1})]),p(n,{modelValue:d(V).struct.access_key_secret,"onUpdate:modelValue":s[3]||(s[3]=e=>d(V).struct.access_key_secret=e),"show-password":""},null,8,["modelValue"])])])]),m("div",We,[m("div",Be,[m("div",Le,[m("label",Me,[p(t,{content:"阿里云 短信服务 endpoint，如：dysmsapi.aliyuncs.com",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Xe])])),_:1})]),p(n,{modelValue:d(V).struct.endpoint,"onUpdate:modelValue":s[4]||(s[4]=e=>d(V).struct.endpoint=e)},null,8,["modelValue"])])]),m("div",Fe,[m("div",Ye,[m("label",Ge,[p(t,{content:"短信签名，如：萌卜兔",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),He])])),_:1})]),p(n,{modelValue:d(V).struct.sign_name,"onUpdate:modelValue":s[5]||(s[5]=e=>d(V).struct.sign_name=e)},null,8,["modelValue"])])]),m("div",Qe,[m("div",Ze,[m("label",es,[p(t,{content:"验证码模板，如：SMS_XXX02",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),ss])])),_:1})]),p(n,{modelValue:d(V).struct.verify_code,"onUpdate:modelValue":s[6]||(s[6]=e=>d(V).struct.verify_code=e)},null,8,["modelValue"])])])]),m("div",as,[m("div",ts,[m("div",ls,[m("label",ns,[p(t,{content:"用于阿里云短信测试接收测试信息的手机号",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),os])])),_:1})]),p(n,{modelValue:d(V).struct.phone,"onUpdate:modelValue":s[8]||(s[8]=e=>d(V).struct.phone=e),onKeydown:s[9]||(s[9]=b((e=>k.test()),["enter"])),class:"custom",placeholder:"请输入手机号"},{suffix:f((()=>[p(w,{onClick:s[7]||(s[7]=e=>k.test()),loading:d(V).status.test},{default:f((()=>[d(V).status.test?v("",!0):(i(),h(a,{key:0,name:"phone",size:"14px"})),cs])),_:1},8,["loading"])])),_:1},8,["modelValue"])])])])])),footer:f((()=>[p(w,{onClick:s[10]||(s[10]=e=>d(V).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(w,{onClick:s[11]||(s[11]=e=>k.save()),loading:d(V).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},us={class:"card mb-3"},rs={class:"card-body"},ds={class:"text-muted text-uppercase mt-0"},ms=m("br",null,null,-1),ps={class:"d-inline-flex align-items-center"},fs=m("span",{class:"ms-1"},"腾讯云短信",-1),gs={class:"m-b-20"},bs=m("span",{class:"badge bg-primary font-white"}," 企业 ",-1),hs={class:"text-muted"},vs=m("strong",{class:"flex-center"},"配置腾讯云短信服务",-1),ys={class:"row"},ws={class:"col-md-6"},_s={class:"form-group mb-3"},xs={class:"form-label required"},Vs=m("span",{class:"ms-1"},"SecretId：",-1),ks={class:"col-md-6"},zs={class:"form-group mb-3"},Ss={class:"form-label required"},Us=m("span",{class:"ms-1"},"SecretKey：",-1),Cs={class:"row"},Os={class:"col-md-6"},js={class:"form-group mb-3"},qs={class:"form-label required"},Rs=m("span",{class:"ms-1"},"endpoint：",-1),Ks={class:"col-md-6"},Is={class:"form-group mb-3"},Js={class:"form-label required"},As=m("span",{class:"ms-1"},"appid：",-1),Ns={class:"row"},Ds={class:"col-md-4"},Es={class:"form-group mb-3"},$s={class:"form-labe requiredl"},Ps=m("span",{class:"ms-1"},"短信签名：",-1),Ts={class:"col-md-4"},Ws={class:"form-group mb-3"},Bs={class:"form-label required"},Ls=m("span",{class:"ms-1"},"验证码模板 id：",-1),Ms={class:"col-md-4"},Xs={class:"form-group mb-3"},Fs={class:"form-label required"},Ys=m("span",{class:"ms-1"},"区域：",-1),Gs={class:"col-12"},Hs={class:"form-group mb-3"},Qs={class:"form-label"},Zs=m("span",{class:"ms-1"},"接收者手机号：",-1),ea=m("span",{class:"ms-1"},"腾讯云短信测试",-1),sa={__name:"sms-tencent",emits:["refresh"],setup(w,{expose:_,emit:x}){const V=e({struct:{phone:null,secret_id:null,secret_key:null,endpoint:null,sms_sdk_app_id:null,sign_name:null,verify_code:null,region:null,drive:{sms:null,default:null}},status:{finish:!1,active:!1,dialog:!1,loading:!0,wait:!1,test:!1},backup:{}});s((async()=>{await k.init()}));const k={init:async()=>{V.status.finish=!1,V.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/sms",{name:"tencent"});V.status.loading=!1,200===e&&(V.struct=s,V.backup=JSON.parse(JSON.stringify(s)),V.status.finish=!0)},show(){if(!V.status.finish)return t.warn("配置获取失败，无法进行配置！");V.status.dialog=!0},change:async e=>{const{code:s,msg:l}=await a.put("/api/toml/sms-drive",{sms:e?"tencent":""});if(200===s)return x("refresh","sms-aliyun");V.status.active=!e,t.error(l)},save:async()=>{if(!l.object.equal(V.struct,V.backup,["secret_id","secret_key","endpoint","sms_sdk_app_id","sign_name","verify_code","region"]))return t.warn("请先完成邮件服务测试");if(l.is.empty(V.struct.secret_id))return t.warn("请填写 SecretId！");if(l.is.empty(V.struct.secret_key))return t.warn("请填写 SecretKey！");if(l.is.empty(V.struct.endpoint))return t.warn("请填写 endpoint！");if(l.is.empty(V.struct.sms_sdk_app_id))return t.warn("请填写 appid！");if(l.is.empty(V.struct.sign_name))return t.warn("请填写 短信签名！");if(l.is.empty(V.struct.verify_code))return t.warn("请填写 验证码模板 id！");if(l.is.empty(V.struct.region))return t.warn("请填写 区域！");V.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/sms-tencent",V.struct);if(V.status.wait=!1,200!==e)return t.error("保存失败："+s);V.status.dialog=!1},test:async()=>{if(l.is.empty(V.struct.phone))return t.warn("请填写接收者手机号！");if(l.is.empty(V.struct.secret_id))return t.warn("请填写 SecretId！");if(l.is.empty(V.struct.secret_key))return t.warn("请填写 SecretKey！");if(l.is.empty(V.struct.endpoint))return t.warn("请填写 endpoint！");if(l.is.empty(V.struct.sms_sdk_app_id))return t.warn("请填写 appid！");if(l.is.empty(V.struct.sign_name))return t.warn("请填写 短信签名！");if(l.is.empty(V.struct.verify_code))return t.warn("请填写 验证码模板 id！");if(l.is.empty(V.struct.region))return t.warn("请填写 区域！");if(!l.is.phone(V.struct.phone))return t.warn("接收者手机号格式不正确！");V.status.test=!0;const{code:e,msg:s,data:n}=await a.post("/api/toml/test-sms-tencent",V.struct);if(V.status.test=!1,200===e)return V.backup=JSON.parse(JSON.stringify(V.struct)),t.success(s);t.error(`${s}<br>${n}`)}};return n((()=>V.struct),(()=>{V.status.active="tencent"===V.struct.drive.sms}),{deep:!0}),_({init:k.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),w=o("el-button"),_=o("el-dialog"),x=c("loading");return i(),u(y,null,[r((i(),u("div",us,[m("div",rs,[p(a,{name:"tencent",color:"rgb(var(--assist-color))",size:"60px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",ds,[p(t,{placement:"top"},{content:f((()=>[g(" ● 用于发送验证码相关的服务"),ms,g(" ● 注册、找回密码、通知等功能都需要依赖此服务 ")])),default:f((()=>[m("span",ps,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),fs])])),_:1})]),m("h2",gs,[p(l,{modelValue:d(V).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(V).status.active=e),onChange:k.change,disabled:!d(V).status.finish,"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),bs,m("span",hs,[g(" 也可以用这个，"),m("span",{onClick:s[1]||(s[1]=e=>k.show()),class:"text-white pointer"},"点我配置")])])])),[[x,d(V).status.loading]]),p(_,{modelValue:d(V).status.dialog,"onUpdate:modelValue":s[14]||(s[14]=e=>d(V).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[vs])),default:f((()=>[m("div",ys,[m("div",ws,[m("div",_s,[m("label",xs,[p(t,{content:"腾讯云 SecretId",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Vs])])),_:1})]),p(n,{modelValue:d(V).struct.secret_id,"onUpdate:modelValue":s[2]||(s[2]=e=>d(V).struct.secret_id=e),"show-password":""},null,8,["modelValue"])])]),m("div",ks,[m("div",zs,[m("label",Ss,[p(t,{content:"腾讯云 SecretKey",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Us])])),_:1})]),p(n,{modelValue:d(V).struct.secret_key,"onUpdate:modelValue":s[3]||(s[3]=e=>d(V).struct.secret_key=e),"show-password":""},null,8,["modelValue"])])])]),m("div",Cs,[m("div",Os,[m("div",js,[m("label",qs,[p(t,{content:"腾讯云短信服务 endpoint",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Rs])])),_:1})]),p(n,{modelValue:d(V).struct.endpoint,"onUpdate:modelValue":s[4]||(s[4]=e=>d(V).struct.endpoint=e)},null,8,["modelValue"])])]),m("div",Ks,[m("div",Is,[m("label",Js,[p(t,{content:"腾讯云短信服务 appid",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),As])])),_:1})]),p(n,{modelValue:d(V).struct.sms_sdk_app_id,"onUpdate:modelValue":s[5]||(s[5]=e=>d(V).struct.sms_sdk_app_id=e)},null,8,["modelValue"])])])]),m("div",Ns,[m("div",Ds,[m("div",Es,[m("label",$s,[p(t,{content:"短信签名，如：萌卜兔",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Ps])])),_:1})]),p(n,{modelValue:d(V).struct.sign_name,"onUpdate:modelValue":s[6]||(s[6]=e=>d(V).struct.sign_name=e)},null,8,["modelValue"])])]),m("div",Ts,[m("div",Ws,[m("label",Bs,[p(t,{content:"验证码模板 id，如：146XXX",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Ls])])),_:1})]),p(n,{modelValue:d(V).struct.verify_code,"onUpdate:modelValue":s[7]||(s[7]=e=>d(V).struct.verify_code=e)},null,8,["modelValue"])])]),m("div",Ms,[m("div",Xs,[m("label",Fs,[p(t,{content:"短信服务所属区域，如：ap-guangzhou",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Ys])])),_:1})]),p(n,{modelValue:d(V).struct.region,"onUpdate:modelValue":s[8]||(s[8]=e=>d(V).struct.region=e)},null,8,["modelValue"])])]),m("div",Gs,[m("div",Hs,[m("label",Qs,[p(t,{content:"用于腾讯云短信测试接收测试信息的手机号",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Zs])])),_:1})]),p(n,{modelValue:d(V).struct.phone,"onUpdate:modelValue":s[10]||(s[10]=e=>d(V).struct.phone=e),onKeydown:s[11]||(s[11]=b((e=>k.test()),["enter"])),class:"custom",placeholder:"请输入手机号"},{suffix:f((()=>[p(w,{onClick:s[9]||(s[9]=e=>k.test()),loading:d(V).status.test},{default:f((()=>[d(V).status.test?v("",!0):(i(),h(a,{key:0,name:"phone",size:"14px"})),ea])),_:1},8,["loading"])])),_:1},8,["modelValue"])])])])])),footer:f((()=>[p(w,{onClick:s[12]||(s[12]=e=>d(V).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(w,{onClick:s[13]||(s[13]=e=>k.save()),loading:d(V).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},aa={class:"card mb-3"},ta={class:"card-body"},la={class:"text-muted text-uppercase mt-0"},na=m("br",null,null,-1),oa={class:"d-inline-flex align-items-center"},ca=m("span",{class:"ms-1"},"注 册",-1),ia={class:"m-b-20"},ua=m("span",{class:"badge bg-primary font-white"}," +0.1% ",-1),ra={class:"text-muted ms-1"},da=m("strong",{class:"flex-center"},"配置",-1),ma={class:"row"},pa={class:"col-lg-6"},fa={class:"form-group mb-3"},ga={class:"form-label"},ba=m("span",null,"（可选）为该分组的用户分配更高级的权限",-1),ha=m("br",null,null,-1),va=m("span",null,"● 默认：即便用户拥有了对应的权限，也只能操作自己的数据，适用于普通用户或会员",-1),ya=m("br",null,null,-1),wa=m("span",null,"● 管理权限：该权限适用于有管理权限的用户，比如管理员和编辑员等，对别人的数据有操作权限",-1),_a=m("br",null,null,-1),xa=m("span",{class:"ms-1"},"注册：",-1),Va={class:"font-13"},ka={class:"col-lg-6"},za={class:"form-group mb-3"},Sa={class:"form-label"},Ua=m("span",{class:"ms-1"},"分配权限：",-1),Ca={class:"font-13 d-flex align-items-center"},Oa={class:"text-muted"},ja={__name:"allow-register",setup(b,{expose:v}){const x=e({item:{auth:[]},struct:{key:"ALLOW_REGISTER"},status:{finish:!1,active:!1,dialog:!1,loading:!0,wait:!1},select:{auth:[],value:[{value:"0",label:"禁止注册",color:"var(--bs-danger)"},{value:"1",label:"允许注册",color:"var(--bs-success)"}]}}),V={init:async()=>{x.status.finish=!1,x.status.loading=!0;const{code:e,data:s}=await a.get("/api/config/one",{key:"ALLOW_REGISTER"});x.status.loading=!1,200===e&&(x.struct=s,x.status.finish=!0)},change:async e=>{const{code:s,msg:l}=await a.post("/api/config/save",{key:"ALLOW_REGISTER",value:e?1:0});200!==s&&(x.status.active=!e,t.error(l))},show(){if(!x.status.finish)return t.warn("配置获取失败，无法进行配置！");x.status.dialog=!0},save:async()=>{x.status.wait=!0;const{code:e,msg:s}=await a.post("/api/config/save",{...x.struct,text:x.item.auth});if(x.status.wait=!1,200!==e)return t.error("保存失败："+s);x.status.dialog=!1},auth:async()=>{const{code:e,data:s}=await a.get("/api/auth-group/column",{field:"id,key,name,root"});200===e&&(x.select.auth=s.map((e=>(e.color=1===e.root?"var(--bs-success)":"var(--bs-secondary)",e))))}};return s((()=>{V.init(),V.auth()})),n((()=>x.struct),(e=>{var s,a;x.item.auth=((null==(s=null==e?void 0:e.text)?void 0:s.split(","))||[]).filter((e=>!l.is.empty(e))).map((e=>parseInt(e))),x.status.active=1===parseInt(null==(a=x.struct)?void 0:a.value)}),{deep:!0}),n((()=>x.status.active),(e=>{x.struct.value=e?"1":"0"})),v({init:V.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-option"),b=o("el-select"),v=o("el-button"),k=o("el-dialog"),z=c("loading");return i(),u(y,null,[r((i(),u("div",aa,[m("div",ta,[p(a,{name:"register",color:"rgb(var(--assist-color))",size:"50px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",la,[p(t,{placement:"top"},{content:f((()=>[g(" ● 是否允许用户自行注册账号（开放注册功能？）"),na,g(" ● 如果不允许，那么只能通过管理员手动创建账号 ")])),default:f((()=>[m("span",oa,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),ca])])),_:1})]),m("h2",ia,[p(l,{modelValue:d(x).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(x).status.active=e),onChange:V.change,disabled:!d(x).status.finish,"active-text":"允许","inactive-text":"不允许"},null,8,["modelValue","onChange","disabled"])]),ua,m("span",ra,[g(" 安全性提升，"),m("span",{onClick:s[1]||(s[1]=e=>V.show()),class:"text-white pointer"},"点我配置")])])])),[[z,d(x).status.loading]]),p(k,{modelValue:d(x).status.dialog,"onUpdate:modelValue":s[6]||(s[6]=e=>d(x).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[da])),default:f((()=>[m("div",ma,[m("div",pa,[m("div",fa,[m("label",ga,[p(t,{placement:"top"},{content:f((()=>[ba,ha,va,ya,wa,_a])),default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),xa])])),_:1})]),p(b,{modelValue:d(x).struct.value,"onUpdate:modelValue":s[2]||(s[2]=e=>d(x).struct.value=e),placeholder:"请选择权限",class:"d-block custom font-13"},{default:f((()=>[(i(!0),u(y,null,w(d(x).select.value,(e=>(i(),h(n,{key:e.value,label:e.label,value:e.value,class:"d-flex align-items-center"},{default:f((()=>[p(a,{name:"dot",color:e.color,size:"20px"},null,8,["color"]),m("span",Va,_(e.label),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])]),m("div",ka,[m("div",za,[m("label",Sa,[p(t,{content:"为注册的用户分配默认的权限",placement:"top"},{default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),Ua])])),_:1})]),p(b,{modelValue:d(x).item.auth,"onUpdate:modelValue":s[3]||(s[3]=e=>d(x).item.auth=e),"reserve-keyword":!1,"default-first-option":"","collapse-tags-tooltip":"","allow-create":"",multiple:"",filterable:"","collapse-tags":"",class:"d-block custom font-13",placeholder:"选择注册的默认权限"},{default:f((()=>[(i(!0),u(y,null,w(d(x).select.auth,(e=>(i(),h(n,{key:e.id,label:e.name,value:e.id,class:"d-flex justify-content-between"},{default:f((()=>[m("span",Ca,[p(a,{name:"dot",color:e.color,size:"20px"},null,8,["color"]),g(" "+_(e.name),1)]),m("small",Oa,_(e.key),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])])])])),footer:f((()=>[p(v,{onClick:s[4]||(s[4]=e=>d(x).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(v,{onClick:s[5]||(s[5]=e=>V.save()),loading:d(x).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},qa={class:"card mb-3"},Ra={class:"card-body"},Ka={class:"text-muted text-uppercase mt-0"},Ia=m("br",null,null,-1),Ja={class:"d-inline-flex align-items-center"},Aa=m("span",{class:"ms-1"},"JWT",-1),Na={class:"m-b-20"},Da=m("span",{class:"badge bg-primary font-white"}," +5% ",-1),Ea={class:"text-muted ms-1"},$a=m("strong",{class:"flex-center"},"配置 JSON Web Token",-1),Pa={class:"row"},Ta={class:"col-md-6"},Wa={class:"form-group mb-3"},Ba={class:"form-label required"},La=m("span",{class:"ms-1"},"签发者：",-1),Ma={class:"col-md-6"},Xa={class:"form-group mb-3"},Fa={class:"form-label required"},Ya=m("span",{class:"ms-1"},"主题：",-1),Ga={class:"col-md-6"},Ha={class:"form-group mb-3"},Qa={class:"form-label required"},Za=m("span",{class:"ms-1"},"密钥：",-1),et=m("span",{class:"ms-1"},"随机",-1),st={class:"col-md-6"},at={class:"form-group mb-3"},tt={class:"form-label required"},lt=m("span",{class:"ms-1"},"过期时间(秒)：",-1),nt={__name:"jwt",setup(l,{expose:b}){const h=e({struct:{key:null,issuer:null,subject:null,expire:null},status:{active:!0,finish:!1,dialog:!1,loading:!0,wait:!1}});s((async()=>{await v.init()}));const v={init:async()=>{h.status.finish=!1,h.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/crypt",{name:"jwt"});h.status.loading=!1,200===e&&(h.struct=s,h.status.finish=!0)},show(){if(!h.status.finish)return t.warn("分页限制配置获取失败，无法进行配置！");h.status.dialog=!0},change:async e=>{e||(h.status.active=!0,t.warn("？？？？？？？？？？？？？<br>JWT是基础服务，这可不许关"))},save:async()=>{h.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/crypt-jwt",h.struct);if(h.status.wait=!1,200!==e)return t.error("保存失败："+s);h.status.dialog=!1},rand(e="key"){let s="INIS-";const a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(let t=0;t<32;t++)s+=a.charAt(Math.floor(62*Math.random()));h.struct[e]=s}};return n((()=>h.struct),(()=>{h.struct.key=h.struct.key.replace(/[^\w!@#$%^&*()_+\-=\[\]{};:'"\\|\/?,.<>~`\s]/g,""),h.struct.expire=h.struct.expire.replace(/[^\d\s*+\-\/]/g,"")}),{deep:!0}),b({init:v.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),b=o("el-button"),w=o("el-dialog"),_=c("loading");return i(),u(y,null,[r((i(),u("div",qa,[m("div",Ra,[p(a,{name:"crypt",size:"55px",color:"rgb(var(--assist-color))",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",Ka,[p(t,{placement:"top"},{content:f((()=>[g(" JWT（JSON Web Token）是一种在网络应用中传递声明信息的轻量级、安全的方式。"),Ia,g(" JWT具有通用性和可扩展性，可以应用在很多场景，比如用户认证、单点登录、API访问授权等。 ")])),default:f((()=>[m("span",Ja,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),Aa])])),_:1})]),m("h2",Na,[p(l,{modelValue:d(h).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(h).status.active=e),onChange:v.change,disabled:!d(h).status.finish,"active-text":"开始","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),Da,m("span",Ea,[g(" 安全性提升，"),m("span",{onClick:s[1]||(s[1]=e=>v.show()),class:"text-white pointer"},"点我配置")])])])),[[_,d(h).status.loading]]),p(w,{modelValue:d(h).status.dialog,"onUpdate:modelValue":s[9]||(s[9]=e=>d(h).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[$a])),default:f((()=>[m("div",Pa,[m("div",Ta,[m("div",Wa,[m("label",Ba,[p(t,{content:"签发者，比如：萌卜兔",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),La])])),_:1})]),p(n,{modelValue:d(h).struct.issuer,"onUpdate:modelValue":s[2]||(s[2]=e=>d(h).struct.issuer=e)},null,8,["modelValue"])])]),m("div",Ma,[m("div",Xa,[m("label",Fa,[p(t,{content:"主题，比如：萌卜兔",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Ya])])),_:1})]),p(n,{modelValue:d(h).struct.subject,"onUpdate:modelValue":s[3]||(s[3]=e=>d(h).struct.subject=e)},null,8,["modelValue"])])]),m("div",Ga,[m("div",Ha,[m("label",Qa,[p(t,{content:"生成JWT的密钥，建议复杂度高一些",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Za])])),_:1})]),p(n,{modelValue:d(h).struct.key,"onUpdate:modelValue":s[5]||(s[5]=e=>d(h).struct.key=e),class:"custom",placeholder:"请输入验证码"},{suffix:f((()=>[p(b,{onClick:s[4]||(s[4]=e=>v.rand())},{default:f((()=>[p(a,{name:"restore",color:"rgb(var(--vice-color))",size:"14px"}),et])),_:1})])),_:1},8,["modelValue"])])]),m("div",st,[m("div",at,[m("label",tt,[p(t,{content:"签名有效期，可以用乘法，如：7 * 24 * 60 * 60 表示7天",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),lt])])),_:1})]),p(n,{modelValue:d(h).struct.expire,"onUpdate:modelValue":s[6]||(s[6]=e=>d(h).struct.expire=e)},null,8,["modelValue"])])])])])),footer:f((()=>[p(b,{onClick:s[7]||(s[7]=e=>d(h).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(b,{onClick:s[8]||(s[8]=e=>v.save()),loading:d(h).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},ot={class:"card mb-3"},ct={class:"card-body"},it={class:"text-muted mt-0"},ut=m("strong",{class:"text-success"},"推荐开启，有利于减少数据库和服务器的负担！",-1),rt=m("br",null,null,-1),dt=m("br",null,null,-1),mt=m("br",null,null,-1),pt={class:"d-inline-flex align-items-center"},ft=m("span",{class:"ms-1"},"Redis 缓存",-1),gt={class:"m-b-20"},bt=m("span",{class:"badge bg-success font-white"}," +30% ",-1),ht={class:"text-muted"},vt=m("strong",{class:"flex-center"},"配置 Redis 缓存服务",-1),yt={class:"row"},wt={class:"col-md-4"},_t={class:"form-group mb-3"},xt={class:"form-label required"},Vt=m("span",{class:"ms-1"},"主机：",-1),kt={class:"col-md-4"},zt={class:"form-group mb-3"},St={class:"form-label required"},Ut=m("span",{class:"ms-1"},"端口：",-1),Ct={class:"col-md-4"},Ot={class:"form-group mb-3"},jt={class:"form-label required"},qt=m("span",{class:"ms-1"},"数据库：",-1),Rt={class:"font-13"},Kt={class:"row"},It={class:"col-md-4"},Jt={class:"form-group mb-3"},At={class:"form-label"},Nt=m("span",{class:"ms-1"},"密码：",-1),Dt={class:"col-md-4"},Et={class:"form-group mb-3"},$t={class:"form-label"},Pt=m("span",{class:"ms-1"},"过期时间（秒）：",-1),Tt={class:"col-md-4"},Wt={class:"form-group mb-3"},Bt={class:"form-label"},Lt=m("span",{class:"ms-1"},"前缀：",-1),Mt=m("span",{class:"ms-1"},"测试连接",-1),Xt={__name:"cache-redis",emits:["refresh"],setup(b,{expose:x,emit:V}){const k=e({struct:{open:!1,default:null,host:"localhost",port:6379,database:0,password:"",prefix:"inis:",expire:"2 * 60 * 60"},status:{finish:!1,active:!1,dialog:!1,loading:!0,test:!1},backup:{}});s((async()=>{await z.init()}));const z={init:async()=>{k.status.finish=!1,k.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/cache",{name:"redis"});k.status.loading=!1,200===e&&(k.struct=s,k.backup=JSON.parse(JSON.stringify(s)),k.status.finish=!0)},show(){if(!k.status.finish)return t.warn("配置获取失败，无法进行配置！");k.status.dialog=!0},change:async e=>{const{code:s,msg:l}=await a.put("/api/toml/cache-default",{value:"redis",open:e});if(200===s)return V("refresh","cache-file","cache-ram");k.status.active=!e,t.error(l)},save:async()=>{if(!l.object.equal(k.struct,k.backup,["host","port","database","password"]))return t.warn("请先完成测试连接");if(l.is.empty(k.struct.host))return t.warn("请填写 主机地址！");if(l.is.empty(k.struct.port))return t.warn("请填写 端口号！");if(l.is.empty(k.struct.database))return t.warn("请选择 数据库！");k.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/cache-redis",k.struct);if(k.status.wait=!1,200!==e)return t.error("保存失败："+s);k.status.dialog=!1},test:async()=>{if(l.is.empty(k.struct.host))return t.warn("请填写 主机地址！");if(l.is.empty(k.struct.port))return t.warn("请填写 端口号！");if(l.is.empty(k.struct.database))return t.warn("请选择 数据库！");k.status.test=!0;const{code:e,msg:s,data:n}=await a.post("/api/toml/test-redis",k.struct);if(k.status.test=!1,200===e)return k.backup=JSON.parse(JSON.stringify(k.struct)),t.success(s);t.error(`${s}<br>${n}`)}};return n((()=>k.struct),(()=>{k.status.active="redis"===k.struct.default&&k.struct.open}),{deep:!0}),x({init:z.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),b=o("el-input-number"),x=o("el-option"),V=o("el-select"),S=o("el-button"),U=o("el-dialog"),C=c("loading");return i(),u(y,null,[r((i(),u("div",ot,[m("div",ct,[p(a,{name:"redis",color:"rgb(var(--assist-color))",size:"56px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",it,[p(t,{placement:"top"},{content:f((()=>[ut,rt,g(" 开启后会对API数据进行缓存，减少重复执行数据库操作以及对数据的运算，"),dt,g(" 从而提高API的响应速度，减少服务器的负担。"),mt,g(" PS：缓存数据会存储在专门的缓存数据库Redis中。 ")])),default:f((()=>[m("span",pt,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),ft])])),_:1})]),m("h2",gt,[p(l,{modelValue:d(k).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(k).status.active=e),onChange:z.change,disabled:!d(k).status.finish,"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),bt,m("span",ht,[g(" 综合提升，"),m("span",{onClick:s[1]||(s[1]=e=>z.show()),class:"text-white pointer"},"点我配置")])])])),[[C,d(k).status.loading]]),p(U,{modelValue:d(k).status.dialog,"onUpdate:modelValue":s[11]||(s[11]=e=>d(k).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[vt])),default:f((()=>[m("div",yt,[m("div",wt,[m("div",_t,[m("label",xt,[p(t,{content:"主机地址，如：localhost",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Vt])])),_:1})]),p(n,{modelValue:d(k).struct.host,"onUpdate:modelValue":s[2]||(s[2]=e=>d(k).struct.host=e)},null,8,["modelValue"])])]),m("div",kt,[m("div",zt,[m("label",St,[p(t,{content:"端口号，如：6379",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Ut])])),_:1})]),p(b,{modelValue:d(k).struct.port,"onUpdate:modelValue":s[3]||(s[3]=e=>d(k).struct.port=e),min:1,max:65535,class:"w-100 d-flex",style:{height:"28px"},"controls-position":"right"},null,8,["modelValue"])])]),m("div",Ct,[m("div",Ot,[m("label",jt,[p(t,{content:"数据库索引，如：0",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),qt])])),_:1})]),p(V,{modelValue:d(k).struct.database,"onUpdate:modelValue":s[4]||(s[4]=e=>d(k).struct.database=e),placeholder:"请选择方式",class:"d-block custom font-13"},{default:f((()=>[(i(),u(y,null,w(16,((e,s)=>p(x,{key:s,label:s,value:s},{default:f((()=>[m("span",Rt,_(s),1)])),_:2},1032,["label","value"]))),64))])),_:1},8,["modelValue"])])])]),m("div",Kt,[m("div",It,[m("div",Jt,[m("label",At,[p(t,{content:"Redis密码，无密码为空即可",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Nt])])),_:1})]),p(n,{modelValue:d(k).struct.password,"onUpdate:modelValue":s[5]||(s[5]=e=>d(k).struct.password=e),"show-password":"",placeholder:"无密码为空即可"},null,8,["modelValue"])])]),m("div",Dt,[m("div",Et,[m("label",$t,[p(t,{content:"缓存有效时间，建议2小时，即7200秒，0表示永不过期",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Pt])])),_:1})]),p(n,{modelValue:d(k).struct.expire,"onUpdate:modelValue":s[6]||(s[6]=e=>d(k).struct.expire=e)},null,8,["modelValue"])])]),m("div",Tt,[m("div",Wt,[m("label",Bt,[p(t,{content:"每个Key固定的前缀，如：inis:",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Lt])])),_:1})]),p(n,{modelValue:d(k).struct.prefix,"onUpdate:modelValue":s[7]||(s[7]=e=>d(k).struct.prefix=e)},null,8,["modelValue"])])])])])),footer:f((()=>[p(S,{onClick:s[8]||(s[8]=e=>d(k).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(S,{onClick:s[9]||(s[9]=e=>z.test()),loading:d(k).status.test},{default:f((()=>[d(k).status.test?v("",!0):(i(),h(a,{key:0,name:"connect",size:"14px"})),Mt])),_:1},8,["loading"]),p(S,{onClick:s[10]||(s[10]=e=>z.save()),loading:d(k).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},Ft={class:"card mb-3"},Yt={class:"card-body"},Gt={class:"text-muted mt-0"},Ht=m("strong",{class:"text-success"},"推荐开启，有利于减少数据库和服务器的负担！",-1),Qt=m("br",null,null,-1),Zt=m("br",null,null,-1),el=m("br",null,null,-1),sl=m("code",null,"runtime/cache",-1),al={class:"d-inline-flex align-items-center"},tl=m("span",{class:"ms-1"},"文件缓存",-1),ll={class:"m-b-20"},nl=m("span",{class:"badge bg-success font-white"}," +20% ",-1),ol={class:"text-muted"},cl=m("strong",{class:"flex-center"},"配置 文件 缓存服务",-1),il={class:"row"},ul={class:"col-md-4"},rl={class:"form-group mb-3"},dl={class:"form-label"},ml=m("span",{class:"ms-1"},"缓存目录：",-1),pl={class:"col-md-4"},fl={class:"form-group mb-3"},gl={class:"form-label"},bl=m("span",{class:"ms-1"},"过期时间（秒）：",-1),hl={class:"col-md-4"},vl={class:"form-group mb-3"},yl={class:"form-label"},wl=m("span",{class:"ms-1"},"前缀：",-1),_l={__name:"cache-file",emits:["refresh"],setup(b,{expose:h,emit:v}){const w=e({struct:{open:!1,default:null,path:null,prefix:"inis_",expire:"2 * 60 * 60"},status:{finish:!1,active:!1,dialog:!1,loading:!0,wait:!1}});s((async()=>{await _.init()}));const _={init:async()=>{w.status.finish=!1,w.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/cache",{name:"file"});w.status.loading=!1,200===e&&(w.struct=s,w.status.finish=!0)},show(){if(!w.status.finish)return t.warn("配置获取失败，无法进行配置！");w.status.dialog=!0},change:async e=>{const{code:s,msg:l}=await a.put("/api/toml/cache-default",{value:"file",open:e});if(200===s)return v("refresh","cache-redis","cache-ram");w.status.active=!e,t.error(l)},save:async()=>{if(l.is.empty(w.struct.path))return t.warn("请填写 缓存目录！");if(l.is.empty(w.struct.expire))return t.warn("请填写 过期时间！");if(l.is.empty(w.struct.prefix))return t.warn("请选择 缓存前缀！");w.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/cache-file",w.struct);if(w.status.wait=!1,200!==e)return t.error("保存失败："+s);w.status.dialog=!1}};return n((()=>w.struct),(()=>{w.status.active="file"===w.struct.default&&w.struct.open}),{deep:!0}),h({init:_.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),b=o("el-button"),h=o("el-dialog"),v=c("loading");return i(),u(y,null,[r((i(),u("div",Ft,[m("div",Yt,[p(a,{name:"file",color:"rgb(var(--assist-color))",size:"55px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",Gt,[p(t,{placement:"top"},{content:f((()=>[Ht,Qt,g(" 开启后会对API数据进行缓存，减少重复执行数据库操作以及对数据的运算，"),Zt,g(" 从而提高API的响应速度，减少服务器的负担。"),el,g(" PS：缓存数据会通过文件的方式存储在服务器的 "),sl,g(" 目录下。 ")])),default:f((()=>[m("span",al,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),tl])])),_:1})]),m("h2",ll,[p(l,{modelValue:d(w).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(w).status.active=e),onChange:_.change,disabled:!d(w).status.finish,"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),nl,m("span",ol,[g(" 综合提升，"),m("span",{onClick:s[1]||(s[1]=e=>_.show()),class:"text-white pointer"},"点我配置")])])])),[[v,d(w).status.loading]]),p(h,{modelValue:d(w).status.dialog,"onUpdate:modelValue":s[7]||(s[7]=e=>d(w).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[cl])),default:f((()=>[m("div",il,[m("div",ul,[m("div",rl,[m("label",dl,[p(t,{content:"缓存文件存储到哪个目录下？推荐：runtime/cache",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),ml])])),_:1})]),p(n,{modelValue:d(w).struct.path,"onUpdate:modelValue":s[2]||(s[2]=e=>d(w).struct.path=e),placeholder:"缓存目录"},null,8,["modelValue"])])]),m("div",pl,[m("div",fl,[m("label",gl,[p(t,{content:"缓存有效时间，建议2小时，即7200秒，0表示永不过期",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),bl])])),_:1})]),p(n,{modelValue:d(w).struct.expire,"onUpdate:modelValue":s[3]||(s[3]=e=>d(w).struct.expire=e)},null,8,["modelValue"])])]),m("div",hl,[m("div",vl,[m("label",yl,[p(t,{content:"每个Key固定的前缀，推荐：inis_",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),wl])])),_:1})]),p(n,{modelValue:d(w).struct.prefix,"onUpdate:modelValue":s[4]||(s[4]=e=>d(w).struct.prefix=e)},null,8,["modelValue"])])])])])),footer:f((()=>[p(b,{onClick:s[5]||(s[5]=e=>d(w).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(b,{onClick:s[6]||(s[6]=e=>_.save()),loading:d(w).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},xl={class:"card mb-3"},Vl={class:"card-body"},kl={class:"text-muted mt-0"},zl=m("strong",{class:"text-success"},"推荐开启，有利于减少数据库和服务器的负担！",-1),Sl=m("br",null,null,-1),Ul=m("br",null,null,-1),Cl=m("br",null,null,-1),Ol={class:"d-inline-flex align-items-center"},jl=m("span",{class:"ms-1"},"内存缓存",-1),ql={class:"m-b-20"},Rl=m("span",{class:"badge bg-success font-white"}," +20% ",-1),Kl={class:"text-muted"},Il=m("strong",{class:"flex-center"},"配置 内存 缓存服务",-1),Jl={class:"row"},Al={class:"col-md-12"},Nl={class:"form-group mb-3"},Dl={class:"form-label"},El=m("span",{class:"ms-1"},"过期时间（秒）：",-1),$l={__name:"cache-ram",emits:["refresh"],setup(b,{expose:h,emit:v}){const w=e({struct:{open:!1,default:null,expire:"2 * 60 * 60"},status:{finish:!1,active:!1,dialog:!1,loading:!0,wait:!1}});s((async()=>{await _.init()}));const _={init:async()=>{w.status.finish=!1,w.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/cache",{name:"ram"});w.status.loading=!1,200===e&&(w.struct=s,w.status.finish=!0)},show(){if(!w.status.finish)return t.warn("配置获取失败，无法进行配置！");w.status.dialog=!0},change:async e=>{const{code:s,msg:l}=await a.put("/api/toml/cache-default",{value:"ram",open:e});if(200===s)return v("refresh","cache-redis","cache-file");w.status.active=!e,t.error(l)},save:async()=>{if(l.is.empty(w.struct.expire))return t.warn("请填写 过期时间！");w.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/cache-ram",w.struct);if(w.status.wait=!1,200!==e)return t.error("保存失败："+s);w.status.dialog=!1}};return n((()=>w.struct),(()=>{w.status.active="ram"===w.struct.default&&w.struct.open}),{deep:!0}),h({init:_.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),b=o("el-button"),h=o("el-dialog"),v=c("loading");return i(),u(y,null,[r((i(),u("div",xl,[m("div",Vl,[p(a,{name:"ram",color:"rgb(var(--assist-color))",size:"55px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",kl,[p(t,{placement:"top"},{content:f((()=>[zl,Sl,g(" 开启后会对API数据进行缓存，减少重复执行数据库操作以及对数据的运算，"),Ul,g(" 从而提高API的响应速度，减少服务器的负担。"),Cl,g(" PS：缓存数据会通过内存的方式存储在服务器的内存中。 ")])),default:f((()=>[m("span",Ol,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),jl])])),_:1})]),m("h2",ql,[p(t,{content:"请不要作死，内存很宝贵，不要用在这种地方，除非你是本地环境或者不怕死",placement:"top"},{default:f((()=>[p(l,{modelValue:d(w).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(w).status.active=e),onChange:_.change,disabled:"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue","onChange"])])),_:1})]),Rl,m("span",Kl,[g(" 综合提升，"),m("span",{onClick:s[1]||(s[1]=e=>_.show()),class:"text-white pointer"},"点我配置")])])])),[[v,d(w).status.loading]]),p(h,{modelValue:d(w).status.dialog,"onUpdate:modelValue":s[5]||(s[5]=e=>d(w).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[Il])),default:f((()=>[m("div",Jl,[m("div",Al,[m("div",Nl,[m("label",Dl,[p(t,{content:"缓存有效时间，建议2小时，即7200秒，0表示永不过期",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),El])])),_:1})]),p(n,{modelValue:d(w).struct.expire,"onUpdate:modelValue":s[2]||(s[2]=e=>d(w).struct.expire=e)},null,8,["modelValue"])])])])])),footer:f((()=>[p(b,{onClick:s[3]||(s[3]=e=>d(w).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(b,{onClick:s[4]||(s[4]=e=>_.save()),loading:d(w).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},Pl={class:"card mb-3"},Tl={class:"card-body"},Wl={class:"text-muted text-uppercase mt-0"},Bl=m("br",null,null,-1),Ll={class:"d-inline-flex align-items-center"},Ml=m("span",{class:"ms-1"},"本地存储",-1),Xl={class:"m-b-20"},Fl=m("span",{class:"badge bg-dark font-white"}," 传统 ",-1),Yl={class:"text-muted ms-1"},Gl=m("strong",{class:"flex-center"},"配置本地存储",-1),Hl={class:"row"},Ql={class:"col-6"},Zl={class:"form-group mb-3"},en={class:"form-label required"},sn=m("span",{class:"ms-1"},"域名：",-1),an={class:"col-md-6"},tn={class:"form-group mb-3"},ln={class:"form-label"},nn=m("span",{class:"ms-1"},"存储目录：",-1),on={__name:"storage-local",emits:["refresh"],setup(l,{expose:b,emit:h}){const v=e({struct:{default:null,domain:null,path:"storage"},status:{active:!0,finish:!1,dialog:!1,loading:!0,wait:!1}});s((async()=>{await w.init()}));const w={init:async()=>{v.status.finish=!1,v.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/storage",{name:"local"});v.status.loading=!1,200===e&&(v.struct=s,v.status.finish=!0)},show(){if(!v.status.finish)return t.warn("配置获取失败，无法进行配置！");v.status.dialog=!0},change:async e=>{if(!e)return v.status.active=!0;const{code:s,msg:l}=await a.put("/api/toml/storage-default",{value:e?"local":null});if(200===s)return h("refresh");v.status.active=!e,t.error(l)},save:async()=>{v.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/storage-local",v.struct);if(v.status.wait=!1,200!==e)return t.error("保存失败："+s);v.status.dialog=!1}};return n((()=>v.struct),(()=>{v.status.active="local"===v.struct.default}),{deep:!0}),b({init:w.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),b=o("el-button"),h=o("el-dialog"),_=c("loading");return i(),u(y,null,[r((i(),u("div",Pl,[m("div",Tl,[p(a,{name:"serve",color:"rgb(var(--assist-color))",size:"60px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",Wl,[p(t,{placement:"top"},{content:f((()=>[g(" ● 本地存储是指将图片等资源文件存储到服务器本地，然后通过访问服务器的方式获取资源文件"),Bl,g(" ● 本地存储的优点是不花钱，缺点是占用服务器空间和带宽 ")])),default:f((()=>[m("span",Ll,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),Ml])])),_:1})]),m("h2",Xl,[p(l,{modelValue:d(v).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(v).status.active=e),onChange:w.change,disabled:!d(v).status.finish,"active-text":"开始","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),Fl,m("span",Yl,[g(" 这个不花钱，"),m("span",{onClick:s[1]||(s[1]=e=>w.show()),class:"text-white pointer"},"点我配置")])])])),[[_,d(v).status.loading]]),p(h,{modelValue:d(v).status.dialog,"onUpdate:modelValue":s[6]||(s[6]=e=>d(v).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[Gl])),default:f((()=>[m("div",Hl,[m("div",Ql,[m("div",Zl,[m("label",en,[p(t,{content:"自定义存储域名",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),sn])])),_:1})]),p(n,{modelValue:d(v).struct.domain,"onUpdate:modelValue":s[2]||(s[2]=e=>d(v).struct.domain=e)},null,8,["modelValue"])])]),m("div",an,[m("div",tn,[m("label",ln,[p(t,{content:"存储在哪个目录下",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),nn])])),_:1})]),p(n,{modelValue:d(v).struct.path,"onUpdate:modelValue":s[3]||(s[3]=e=>d(v).struct.path=e),placeholder:"如: storage"},null,8,["modelValue"])])])])])),footer:f((()=>[p(b,{onClick:s[4]||(s[4]=e=>d(v).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(b,{onClick:s[5]||(s[5]=e=>w.save()),loading:d(v).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},cn={class:"card mb-3"},un={class:"card-body"},rn={class:"text-muted text-uppercase mt-0"},dn=m("br",null,null,-1),mn={class:"d-inline-flex align-items-center"},pn=m("span",{class:"ms-1"},"OSS",-1),fn={class:"m-b-20"},gn=m("span",{class:"badge bg-warning font-white"}," 推荐 ",-1),bn={class:"text-muted ms-1"},hn=m("strong",{class:"flex-center"},"配置 阿里云OSS 存储",-1),vn={class:"row"},yn={class:"col-md-6"},wn={class:"form-group mb-3"},_n={class:"form-label required"},xn=m("span",{class:"ms-1"},"AccessKey ID：",-1),Vn={class:"col-md-6"},kn={class:"form-group mb-3"},zn={class:"form-label required"},Sn=m("span",{class:"ms-1"},"AccessKey Secret：",-1),Un={class:"col-md-4"},Cn={class:"form-group mb-3"},On={class:"form-label required"},jn=m("span",{class:"ms-1"},"Endpoint：",-1),qn={class:"font-13"},Rn={class:"text-muted float-end"},Kn={class:"col-md-4"},In={class:"form-group mb-3"},Jn={class:"form-label required"},An=m("span",{class:"ms-1"},"OSS Bucket：",-1),Nn={class:"col-md-4"},Dn={class:"form-group mb-3"},En={class:"form-label"},$n=m("span",{class:"ms-1"},"存储目录：",-1),Pn={class:"col-md-12"},Tn={class:"form-group mb-3"},Wn={class:"form-label"},Bn=m("span",{class:"ms-1"},"OSS 外网域名：",-1),Ln=m("span",{class:"ms-1"},"测试连接",-1),Mn={__name:"storage-oss",emits:["refresh"],setup(b,{expose:x,emit:V}){const k=e({struct:{path:"inis",default:null,domain:null,bucket:null,endpoint:null,access_key_id:null,access_key_secret:null},status:{active:!0,finish:!1,dialog:!1,loading:!0,wait:!1,test:!1},backup:{},select:{endpoint:[{value:"oss-cn-hangzhou.aliyuncs.com",label:"华东1（杭州）"},{value:"oss-cn-shanghai.aliyuncs.com",label:"华东2（上海）"},{value:"oss-cn-nanjing.aliyuncs.com",label:"华东5（南京-本地地域）"},{value:"oss-cn-fuzhou.aliyuncs.com",label:"华东6（福州-本地地域）"},{value:"oss-cn-qingdao.aliyuncs.com",label:"华北1（青岛）"},{value:"oss-cn-beijing.aliyuncs.com",label:"华北2（北京）"},{value:"oss-cn-zhangjiakou.aliyuncs.com",label:"华北 3（张家口）"},{value:"oss-cn-huhehaote.aliyuncs.com",label:"华北5（呼和浩特）"},{value:"oss-cn-wulanchabu.aliyuncs.com",label:"华北6（乌兰察布）"},{value:"oss-cn-shenzhen.aliyuncs.com",label:"华南1（深圳）"},{value:"oss-cn-heyuan.aliyuncs.com",label:"华南2（河源）"},{value:"oss-cn-guangzhou.aliyuncs.com",label:"华南3（广州）"},{value:"oss-cn-chengdu.aliyuncs.com",label:"西南1（成都）"},{value:"oss-cn-hongkong.aliyuncs.com",label:"中国香港"},{value:"oss-us-west-1.aliyuncs.com",label:"美国（硅谷）①"},{value:"oss-us-east-1.aliyuncs.com",label:"美国（弗吉尼亚）①"},{value:"oss-ap-northeast-1.aliyuncs.com",label:"日本（东京）①"},{value:"oss-ap-northeast-2.aliyuncs.com",label:"韩国（首尔）"},{value:"oss-ap-southeast-1.aliyuncs.com",label:"新加坡①"},{value:"oss-ap-southeast-2.aliyuncs.com",label:"澳大利亚（悉尼）①"},{value:"oss-ap-southeast-3.aliyuncs.com",label:"马来西亚（吉隆坡）①"},{value:"oss-ap-southeast-5.aliyuncs.com",label:"印度尼西亚（雅加达）①"},{value:"oss-ap-southeast-6.aliyuncs.com",label:"菲律宾（马尼拉）"},{value:"oss-ap-southeast-7.aliyuncs.com",label:"泰国（曼谷）"},{value:"oss-ap-south-1.aliyuncs.com",label:"印度（孟买）①"},{value:"oss-eu-central-1.aliyuncs.com",label:"德国（法兰克福）①"},{value:"oss-eu-west-1.aliyuncs.com",label:"英国（伦敦）"},{value:"oss-me-east-1.aliyuncs.com",label:"阿联酋（迪拜）①"},{value:"oss-rg-china-mainland.aliyuncs.com",label:"无地域属性（中国内地）"},{value:"oss-cn-hzfinance.aliyuncs.com",label:"杭州金融云公网"},{value:"oss-cn-shanghai-finance-1-pub.aliyuncs.com",label:"上海金融云公网"},{value:"oss-cn-szfinance.aliyuncs.com",label:"深圳金融云公网"},{value:"oss-cn-beijing-finance-1-pub.aliyuncs.com",label:"北京金融云公网"}]}});s((async()=>{await z.init()}));const z={init:async()=>{k.status.finish=!1,k.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/storage",{name:"oss"});k.status.loading=!1,200===e&&(k.struct=s,k.backup=JSON.parse(JSON.stringify(s)),k.status.finish=!0)},show(){if(!k.status.finish)return t.warn("存储配置获取失败，无法进行配置！");k.status.dialog=!0},change:async e=>{if(!e)return k.status.active=!0;const{code:s,msg:l}=await a.put("/api/toml/storage-default",{value:e?"oss":null});if(200===s)return V("refresh");k.status.active=!e,t.error(l)},save:async()=>{if(!l.object.equal(k.struct,k.backup,["access_key_id","access_key_secret","endpoint","bucket"]))return t.warn("请先OSS连接测试");if(l.is.empty(k.struct.access_key_id))return t.warn("请填写 AccessKey ID！");if(l.is.empty(k.struct.access_key_secret))return t.warn("请填写 AccessKey Secret！");if(l.is.empty(k.struct.endpoint))return t.warn("请填写 Endpoint！");if(l.is.empty(k.struct.bucket))return t.warn("请填写 Bucket！");k.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/storage-oss",k.struct);if(k.status.wait=!1,200!==e)return t.error("保存失败："+s);k.status.dialog=!1},test:async()=>{if(l.is.empty(k.struct.access_key_id))return t.warn("请填写 AccessKey ID！");if(l.is.empty(k.struct.access_key_secret))return t.warn("请填写 AccessKey Secret！");if(l.is.empty(k.struct.endpoint))return t.warn("请填写 Endpoint！");if(l.is.empty(k.struct.bucket))return t.warn("请填写 Bucket！");k.status.test=!0;const{code:e,msg:s,data:n}=await a.post("/api/toml/test-oss",k.struct);if(k.status.test=!1,200===e)return k.backup=JSON.parse(JSON.stringify(k.struct)),t.success(s);t.error(`${s}<br>${n}`)}};return n((()=>k.struct),(()=>{k.status.active="oss"===k.struct.default}),{deep:!0}),x({init:z.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),b=o("el-option"),x=o("el-select"),V=o("el-button"),S=o("el-dialog"),U=c("loading");return i(),u(y,null,[r((i(),u("div",cn,[m("div",un,[p(a,{name:"aliyun",color:"rgb(var(--assist-color))",size:"60px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",rn,[p(t,{placement:"top"},{content:f((()=>[g(" ● OSS可以替代传统的本地存储，有能力的情况推荐开启OSS存储"),dn,g(" ● 开启后，后续上传的文件将会自动上传到OSS，不会占用服务器的空间和带宽 ")])),default:f((()=>[m("span",mn,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),pn])])),_:1})]),m("h2",fn,[p(l,{modelValue:d(k).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(k).status.active=e),onChange:z.change,disabled:!d(k).status.finish,"active-text":"开始","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),gn,m("span",bn,[g(" 这个还不错，"),m("span",{onClick:s[1]||(s[1]=e=>z.show()),class:"text-white pointer"},"点我配置")])])])),[[U,d(k).status.loading]]),p(S,{modelValue:d(k).status.dialog,"onUpdate:modelValue":s[11]||(s[11]=e=>d(k).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[hn])),default:f((()=>[m("div",vn,[m("div",yn,[m("div",wn,[m("label",_n,[p(t,{content:"阿里云 AccessKey ID",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),xn])])),_:1})]),p(n,{modelValue:d(k).struct.access_key_id,"onUpdate:modelValue":s[2]||(s[2]=e=>d(k).struct.access_key_id=e),"show-password":""},null,8,["modelValue"])])]),m("div",Vn,[m("div",kn,[m("label",zn,[p(t,{content:"阿里云AccessKey Secret",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Sn])])),_:1})]),p(n,{modelValue:d(k).struct.access_key_secret,"onUpdate:modelValue":s[3]||(s[3]=e=>d(k).struct.access_key_secret=e),"show-password":""},null,8,["modelValue"])])]),m("div",Un,[m("div",Cn,[m("label",On,[p(t,{content:"OSS 外网 Endpoint",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),jn])])),_:1})]),p(x,{modelValue:d(k).struct.endpoint,"onUpdate:modelValue":s[4]||(s[4]=e=>d(k).struct.endpoint=e),placeholder:"请选择所在地区",class:"d-block custom font-13"},{default:f((()=>[(i(!0),u(y,null,w(d(k).select.endpoint,(e=>(i(),h(b,{key:e.value,label:e.label,value:e.value},{default:f((()=>[m("span",qn,_(e.label),1),m("small",Rn,_(e.value),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])]),m("div",Kn,[m("div",In,[m("label",Jn,[p(t,{content:"存储桶名称",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),An])])),_:1})]),p(n,{modelValue:d(k).struct.bucket,"onUpdate:modelValue":s[5]||(s[5]=e=>d(k).struct.bucket=e)},null,8,["modelValue"])])]),m("div",Nn,[m("div",Dn,[m("label",En,[p(t,{content:"存储在哪个目录下",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),$n])])),_:1})]),p(n,{modelValue:d(k).struct.path,"onUpdate:modelValue":s[6]||(s[6]=e=>d(k).struct.path=e),placeholder:"如: inis"},null,8,["modelValue"])])]),m("div",Pn,[m("div",Tn,[m("label",Wn,[p(t,{content:"用于访问 - 不填写则使用默认域名",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Bn])])),_:1})]),p(n,{modelValue:d(k).struct.domain,"onUpdate:modelValue":s[7]||(s[7]=e=>d(k).struct.domain=e)},null,8,["modelValue"])])])])])),footer:f((()=>[p(V,{onClick:s[8]||(s[8]=e=>d(k).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(V,{onClick:s[9]||(s[9]=e=>z.test()),loading:d(k).status.test},{default:f((()=>[d(k).status.test?v("",!0):(i(),h(a,{key:0,name:"connect",size:"14px"})),Ln])),_:1},8,["loading"]),p(V,{onClick:s[10]||(s[10]=e=>z.save()),loading:d(k).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},Xn={class:"card mb-3"},Fn={class:"card-body"},Yn={class:"text-muted text-uppercase mt-0"},Gn=m("br",null,null,-1),Hn={class:"d-inline-flex align-items-center"},Qn=m("span",{class:"ms-1"},"COS",-1),Zn={class:"m-b-20"},eo=m("span",{class:"badge bg-primary font-white"}," 推荐 ",-1),so={class:"text-muted ms-1"},ao=m("strong",{class:"flex-center"},"配置 腾讯云COS 存储",-1),to={class:"row"},lo={class:"col-md-6"},no={class:"form-group mb-3"},oo={class:"form-label required"},co=m("span",{class:"ms-1"},"SecretId：",-1),io={class:"col-md-6"},uo={class:"form-group mb-3"},ro={class:"form-label required"},mo=m("span",{class:"ms-1"},"SecretKey：",-1),po={class:"col-md-6"},fo={class:"form-group mb-3"},go={class:"form-label required"},bo=m("span",{class:"ms-1"},"AppId：",-1),ho={class:"col-md-6"},vo={class:"form-group mb-3"},yo={class:"form-label required"},wo=m("span",{class:"ms-1"},"COS Bucket：",-1),_o={class:"col-md-3"},xo={class:"form-group mb-3"},Vo={class:"form-label required"},ko=m("span",{class:"ms-1"},"COS Region：",-1),zo={class:"font-13"},So={class:"text-muted float-end"},Uo={class:"col-md-3"},Co={class:"form-group mb-3"},Oo={class:"form-label"},jo=m("span",{class:"ms-1"},"存储目录：",-1),qo={class:"col-md-6"},Ro={class:"form-group mb-3"},Ko={class:"form-label"},Io=m("span",{class:"ms-1"},"COS 外网域名：",-1),Jo=m("span",{class:"ms-1"},"测试连接",-1),Ao={__name:"storage-cos",emits:["refresh"],setup(b,{expose:x,emit:V}){const k=e({struct:{path:"inis",default:null,domain:null,app_id:null,bucket:null,region:null,secret_id:null,secret_key:null},status:{active:!0,finish:!1,dialog:!1,loading:!0,wait:!1,test:!1},backup:{},select:{region:[{value:"ap-beijing-1",label:"北京一区",area:"中国大陆"},{value:"ap-beijing",label:"北京",area:"中国大陆"},{value:"ap-nanjing",label:"南京",area:"中国大陆"},{value:"ap-shanghai",label:"上海",area:"中国大陆"},{value:"ap-guangzhou",label:"广州",area:"中国大陆"},{value:"ap-chengdu",label:"成都",area:"中国大陆"},{value:"ap-chongqing",label:"重庆",area:"中国大陆"},{value:"ap-shenzhen-fsi",label:"深圳金融",area:"中国大陆"},{value:"ap-shanghai-fsi",label:"上海金融",area:"中国大陆"},{value:"ap-beijing-fsi",label:"北京金融",area:"中国大陆"},{value:"ap-hongkong",label:"中国香港",area:"亚太"},{value:"ap-singapore",label:"新加坡",area:"亚太"},{value:"ap-mumbai",label:"孟买",area:"亚太"},{value:"ap-jakarta",label:"雅加达",area:"亚太"},{value:"ap-seoul",label:"首尔",area:"亚太"},{value:"ap-bangkok",label:"曼谷",area:"亚太"},{value:"ap-tokyo",label:"东京",area:"亚太"},{value:"na-siliconvalley",label:"硅谷（美西）",area:"北美"},{value:"na-ashburn",label:"弗吉尼亚（美东）",area:"北美"},{value:"na-toronto",label:"多伦多",area:"北美"},{value:"sa-saopaulo",label:"圣保罗",area:"南美"},{value:"eu-frankfurt",label:"法兰克福",area:"欧洲"}]}});s((async()=>{await z.init()}));const z={init:async()=>{k.status.finish=!1,k.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/storage",{name:"cos"});k.status.loading=!1,200===e&&(k.struct=s,k.backup=JSON.parse(JSON.stringify(s)),k.status.finish=!0)},show(){if(!k.status.finish)return t.warn("配置获取失败，无法进行配置！");k.status.dialog=!0},change:async e=>{if(!e)return k.status.active=!0;const{code:s,msg:l}=await a.put("/api/toml/storage-default",{value:e?"cos":null});if(200===s)return V("refresh");k.status.active=!e,t.error(l)},save:async()=>{if(!l.object.equal(k.struct,k.backup,["secret_id","secret_key","app_id","region","bucket"]))return t.warn("请先OSS连接测试");if(l.is.empty(k.struct.secret_id))return t.warn("请填写 SecretId！");if(l.is.empty(k.struct.secret_key))return t.warn("请填写 SecretKey！");if(l.is.empty(k.struct.app_id))return t.warn("请填写 AppId！");if(l.is.empty(k.struct.region))return t.warn("请填写 Bucket！");if(l.is.empty(k.struct.bucket))return t.warn("请填写 Region！");k.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/storage-cos",k.struct);if(k.status.wait=!1,200!==e)return t.error("保存失败："+s);k.status.dialog=!1},test:async()=>{if(l.is.empty(k.struct.secret_id))return t.warn("请填写 SecretId！");if(l.is.empty(k.struct.secret_key))return t.warn("请填写 SecretKey！");if(l.is.empty(k.struct.app_id))return t.warn("请填写 AppId！");if(l.is.empty(k.struct.region))return t.warn("请填写 Bucket！");if(l.is.empty(k.struct.bucket))return t.warn("请填写 Region！");k.status.test=!0;const{code:e,msg:s,data:n}=await a.post("/api/toml/test-cos",k.struct);if(k.status.test=!1,200===e)return k.backup=JSON.parse(JSON.stringify(k.struct)),t.success(s);t.error(`${s}<br>${n}`)}};return n((()=>k.struct),(()=>{k.status.active="cos"===k.struct.default}),{deep:!0}),x({init:z.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("el-switch"),n=o("el-input"),b=o("el-option"),x=o("el-select"),V=o("el-button"),S=o("el-dialog"),U=c("loading");return i(),u(y,null,[r((i(),u("div",Xn,[m("div",Fn,[p(a,{name:"tencent",color:"rgb(var(--assist-color))",size:"60px",class:"position-absolute opacity-25",style:{right:"1.5rem"}}),m("h6",Yn,[p(t,{placement:"top"},{content:f((()=>[g(" ● COS可以替代传统的本地存储，有能力的情况推荐开启COS存储"),Gn,g(" ● 开启后，后续上传的文件将会自动上传到COS，不会占用服务器的空间和带宽 ")])),default:f((()=>[m("span",Hn,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),Qn])])),_:1})]),m("h2",Zn,[p(l,{modelValue:d(k).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(k).status.active=e),onChange:z.change,disabled:!d(k).status.finish,"active-text":"开始","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),eo,m("span",so,[g(" 这个也不错，"),m("span",{onClick:s[1]||(s[1]=e=>z.show()),class:"text-white pointer"},"点我配置")])])])),[[U,d(k).status.loading]]),p(S,{modelValue:d(k).status.dialog,"onUpdate:modelValue":s[12]||(s[12]=e=>d(k).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[ao])),default:f((()=>[m("div",to,[m("div",lo,[m("div",no,[m("label",oo,[p(t,{content:"腾讯云COS SecretId",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),co])])),_:1})]),p(n,{modelValue:d(k).struct.secret_id,"onUpdate:modelValue":s[2]||(s[2]=e=>d(k).struct.secret_id=e),"show-password":""},null,8,["modelValue"])])]),m("div",io,[m("div",uo,[m("label",ro,[p(t,{content:"腾讯云COS SecretKey",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),mo])])),_:1})]),p(n,{modelValue:d(k).struct.secret_key,"onUpdate:modelValue":s[3]||(s[3]=e=>d(k).struct.secret_key=e),"show-password":""},null,8,["modelValue"])])]),m("div",po,[m("div",fo,[m("label",go,[p(t,{content:"腾讯云COS AppId",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),bo])])),_:1})]),p(n,{modelValue:d(k).struct.app_id,"onUpdate:modelValue":s[4]||(s[4]=e=>d(k).struct.app_id=e)},null,8,["modelValue"])])]),m("div",ho,[m("div",vo,[m("label",yo,[p(t,{content:"存储桶名称",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),wo])])),_:1})]),p(n,{modelValue:d(k).struct.bucket,"onUpdate:modelValue":s[5]||(s[5]=e=>d(k).struct.bucket=e)},null,8,["modelValue"])])]),m("div",_o,[m("div",xo,[m("label",Vo,[p(t,{content:"所在地区，如这里的 ap-guangzhou（广州）",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),ko])])),_:1})]),p(x,{modelValue:d(k).struct.region,"onUpdate:modelValue":s[6]||(s[6]=e=>d(k).struct.region=e),placeholder:"请选择所在地区",class:"d-block custom font-13"},{default:f((()=>[(i(!0),u(y,null,w(d(k).select.region,(e=>(i(),h(b,{key:e.value,label:e.label,value:e.value},{default:f((()=>[m("span",zo,_(e.label),1),m("small",So,_(e.value)+" | "+_(e.area),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])]),m("div",Uo,[m("div",Co,[m("label",Oo,[p(t,{content:"存储在哪个目录下",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),jo])])),_:1})]),p(n,{modelValue:d(k).struct.path,"onUpdate:modelValue":s[7]||(s[7]=e=>d(k).struct.path=e),placeholder:"如: inis"},null,8,["modelValue"])])]),m("div",qo,[m("div",Ro,[m("label",Ko,[p(t,{content:"用于访问 - 不填写则使用默认域名",placement:"top"},{default:f((()=>[m("span",null,[p(a,{name:"hint",size:"14px"}),Io])])),_:1})]),p(n,{modelValue:d(k).struct.domain,"onUpdate:modelValue":s[8]||(s[8]=e=>d(k).struct.domain=e)},null,8,["modelValue"])])])])])),footer:f((()=>[p(V,{onClick:s[9]||(s[9]=e=>d(k).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(V,{onClick:s[10]||(s[10]=e=>z.test()),loading:d(k).status.test},{default:f((()=>[d(k).status.test?v("",!0):(i(),h(a,{key:0,name:"connect",size:"14px"})),Jo])),_:1},8,["loading"]),p(V,{onClick:s[11]||(s[11]=e=>z.save()),loading:d(k).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},No={class:"card mb-3"},Do={class:"card-body"},Eo={class:"text-muted text-uppercase mt-0"},$o=m("br",null,null,-1),Po={class:"d-inline-flex align-items-center"},To=m("span",{class:"ms-1"},"KODO",-1),Wo={class:"m-b-20"},Bo=m("span",{class:"badge bg-info font-white"}," 一般 ",-1),Lo={class:"text-muted ms-1"},Mo=m("strong",{class:"flex-center"},"配置 七牛云KODO 存储",-1),Xo={class:"row"},Fo={class:"col-md-6"},Yo={class:"form-group mb-3"},Go={class:"form-label required"},Ho=m("span",{class:"ms-1"},"AccessKey：",-1),Qo={class:"col-md-6"},Zo={class:"form-group mb-3"},ec={class:"form-label required"},sc=m("span",{class:"ms-1"},"SecretKey：",-1),ac={class:"col-md-6"},tc={class:"form-group mb-3"},lc={class:"form-label required"},nc=m("span",{class:"ms-1"},"Bucket：",-1),oc={class:"col-md-6"},cc={class:"form-group mb-3"},ic={class:"form-label required"},uc=m("span",{class:"ms-1"},"Region：",-1),rc={class:"font-13"},dc={class:"text-muted float-end"},mc={class:"col-md-12"},pc={class:"form-group mb-3"},fc={class:"form-label required"},gc=m("span",{class:"ms-1"},"外网域名：",-1),bc=m("span",{class:"ms-1"},"测试连接",-1),hc={__name:"storage-kodo",emits:["refresh"],setup(b,{expose:x,emit:V}){const k=e({struct:{default:null,domain:null,access_key:null,secret_key:null,bucket:null,region:null},status:{active:!0,finish:!1,dialog:!1,loading:!0,wait:!1,test:!1},backup:{},select:{region:[{value:"z0",label:"华东"},{value:"z1",label:"华北河北"},{value:"z2",label:"华南广东"},{value:"na0",label:"北美"},{value:"as0",label:"新加坡"},{value:"cn-east-2",label:"华东浙江"},{value:"ap-northeast-1",label:"亚太-首尔机房"}]}});s((async()=>{await z.init()}));const z={init:async()=>{k.status.finish=!1,k.status.loading=!0;const{code:e,data:s}=await a.get("/api/toml/storage",{name:"kodo"});k.status.loading=!1,200===e&&(k.struct=s,k.backup=JSON.parse(JSON.stringify(s)),k.status.finish=!0)},show(){if(!k.status.finish)return t.warn("配置获取失败，无法进行配置！");k.status.dialog=!0},change:async e=>{if(!e)return k.status.active=!0;const{code:s,msg:l}=await a.put("/api/toml/storage-default",{value:e?"kodo":null});if(200===s)return V("refresh");k.status.active=!e,t.error(l)},save:async()=>{if(!l.object.equal(k.struct,k.backup,["access_key","secret_key","bucket","region"]))return t.warn("请先KODO连接测试");if(l.is.empty(k.struct.access_key))return t.warn("请填写 AccessKey！");if(l.is.empty(k.struct.secret_key))return t.warn("请填写 SecretKey！");if(l.is.empty(k.struct.bucket))return t.warn("请填写 Bucket！");if(l.is.empty(k.struct.region))return t.warn("请填写 Region！");if(l.is.empty(k.struct.domain))return t.warn("请填写 外网域名！");k.status.wait=!0;const{code:e,msg:s}=await a.put("/api/toml/storage-kodo",k.struct);if(k.status.wait=!1,200!==e)return t.error("保存失败："+s);k.status.dialog=!1},test:async()=>{if(l.is.empty(k.struct.access_key))return t.warn("请填写 AccessKey！");if(l.is.empty(k.struct.secret_key))return t.warn("请填写 SecretKey！");if(l.is.empty(k.struct.bucket))return t.warn("请填写 Bucket！");if(l.is.empty(k.struct.region))return t.warn("请填写 Region！");k.status.test=!0;const{code:e,msg:s,data:n}=await a.post("/api/toml/test-kodo",k.struct);if(k.status.test=!1,200===e)return k.backup=JSON.parse(JSON.stringify(k.struct)),t.success(s);t.error(`${s}<br>${n}`)}};return n((()=>k.struct),(()=>{k.status.active="kodo"===k.struct.default}),{deep:!0}),x({init:z.init}),(e,s)=>{const a=o("el-image"),t=o("i-svg"),l=o("el-tooltip"),n=o("el-switch"),b=o("el-input"),x=o("el-option"),V=o("el-select"),S=o("el-button"),U=o("el-dialog"),C=c("loading");return i(),u(y,null,[r((i(),u("div",No,[m("div",Do,[p(a,{src:"/assets/imgs/png/qiniu.png",class:"position-absolute opacity-25",style:{right:"1.5rem",height:"65px"}}),m("h6",Eo,[p(l,{placement:"top"},{content:f((()=>[g(" ● KODO可以替代传统的本地存储，有能力的情况推荐开启KODO存储（但是总体体验上比OSS和COS略差）"),$o,g(" ● 开启后，后续上传的文件将会自动上传到KODO，不会占用服务器的空间和带宽 ")])),default:f((()=>[m("span",Po,[p(t,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),To])])),_:1})]),m("h2",Wo,[p(n,{modelValue:d(k).status.active,"onUpdate:modelValue":s[0]||(s[0]=e=>d(k).status.active=e),onChange:z.change,disabled:!d(k).status.finish,"active-text":"开始","inactive-text":"关闭"},null,8,["modelValue","onChange","disabled"])]),Bo,m("span",Lo,[g(" 不是很好用，"),m("span",{onClick:s[1]||(s[1]=e=>z.show()),class:"text-white pointer"},"点我配置")])])])),[[C,d(k).status.loading]]),p(U,{modelValue:d(k).status.dialog,"onUpdate:modelValue":s[10]||(s[10]=e=>d(k).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[Mo])),default:f((()=>[m("div",Xo,[m("div",Fo,[m("div",Yo,[m("label",Go,[p(l,{content:"七牛云AccessKey",placement:"top"},{default:f((()=>[m("span",null,[p(t,{name:"hint",size:"14px"}),Ho])])),_:1})]),p(b,{modelValue:d(k).struct.access_key,"onUpdate:modelValue":s[2]||(s[2]=e=>d(k).struct.access_key=e),"show-password":""},null,8,["modelValue"])])]),m("div",Qo,[m("div",Zo,[m("label",ec,[p(l,{content:"七牛云SecretKey",placement:"top"},{default:f((()=>[m("span",null,[p(t,{name:"hint",size:"14px"}),sc])])),_:1})]),p(b,{modelValue:d(k).struct.secret_key,"onUpdate:modelValue":s[3]||(s[3]=e=>d(k).struct.secret_key=e),"show-password":""},null,8,["modelValue"])])]),m("div",ac,[m("div",tc,[m("label",lc,[p(l,{content:"存储桶名称",placement:"top"},{default:f((()=>[m("span",null,[p(t,{name:"hint",size:"14px"}),nc])])),_:1})]),p(b,{modelValue:d(k).struct.bucket,"onUpdate:modelValue":s[4]||(s[4]=e=>d(k).struct.bucket=e)},null,8,["modelValue"])])]),m("div",oc,[m("div",cc,[m("label",ic,[p(l,{content:"KODO 所在地区",placement:"top"},{default:f((()=>[m("span",null,[p(t,{name:"hint",size:"14px"}),uc])])),_:1})]),p(V,{modelValue:d(k).struct.region,"onUpdate:modelValue":s[5]||(s[5]=e=>d(k).struct.region=e),placeholder:"请选择所在地区",class:"d-block custom font-13"},{default:f((()=>[(i(!0),u(y,null,w(d(k).select.region,(e=>(i(),h(x,{key:e.value,label:e.label,value:e.value},{default:f((()=>[m("span",rc,_(e.label),1),m("small",dc,_(e.value),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])]),m("div",mc,[m("div",pc,[m("label",fc,[p(l,{content:"（必须）外网域名 - 用于访问",placement:"top"},{default:f((()=>[m("span",null,[p(t,{name:"hint",size:"14px"}),gc])])),_:1})]),p(b,{modelValue:d(k).struct.domain,"onUpdate:modelValue":s[6]||(s[6]=e=>d(k).struct.domain=e)},null,8,["modelValue"])])])])])),footer:f((()=>[p(S,{onClick:s[7]||(s[7]=e=>d(k).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(S,{onClick:s[8]||(s[8]=e=>z.test()),loading:d(k).status.test},{default:f((()=>[d(k).status.test?v("",!0):(i(),h(t,{key:0,name:"connect",size:"14px"})),bc])),_:1},8,["loading"]),p(S,{onClick:s[9]||(s[9]=e=>z.save()),loading:d(k).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},vc={class:"card-body"},yc={class:"text-muted text-uppercase mt-0"},wc={class:"d-inline-flex align-items-center"},_c=m("span",{class:"ms-1"},"站点信息",-1),xc={class:"d-flex"},Vc={class:"d-flex align-items-center justify-content-center position-relative",style:{width:"60px",height:"60px"}},kc={class:"d-flex flex-column justify-content-center ms-2"},zc={class:"font-18 text-dark d-flex align-items-center"},Sc={class:"text-dark font-16 me-2 limit-1-line"},Uc={class:"text-secondary limit-2-line"},Cc=m("strong",{class:"flex-center"},"站 点 信 息 配 置",-1),Oc={class:"row"},jc={class:"col-md-6"},qc={class:"form-group mb-3"},Rc={class:"form-label"},Kc=m("span",{class:"ms-1"},"备案码：",-1),Ic={class:"col-md-6"},Jc={class:"form-group mb-3"},Ac={class:"form-label"},Nc=m("span",{class:"ms-1"},"备案链接：",-1),Dc={class:"col-md-6"},Ec={class:"form-group mb-3"},$c={class:"form-label"},Pc=m("span",{class:"ms-1"},"站点头像：",-1),Tc=m("span",{class:"ms-1"},"上传",-1),Wc={class:"col-md-6"},Bc={class:"form-group mb-3"},Lc={class:"form-label"},Mc=m("span",{class:"ms-1"},"favicon：",-1),Xc=m("span",{class:"ms-1"},"上传",-1),Fc={class:"col-md-4"},Yc={class:"form-group mb-3"},Gc={class:"form-label"},Hc=m("span",{class:"ms-1"},"站点标题：",-1),Qc={class:"col-md-4"},Zc={class:"form-group mb-3"},ei={class:"form-label"},si=m("span",{class:"ms-1"},"关键词：",-1),ai={class:"col-md-4"},ti={class:"form-group mb-3"},li={class:"form-label"},ni=m("span",{class:"ms-1"},"运营时间：",-1),oi={class:"row"},ci={class:"col-lg-12"},ii={class:"form-group mb-3"},ui={class:"form-label"},ri=m("span",{class:"ms-1"},"站点描述：",-1),di={__name:"site-info",setup(l,{expose:b}){const x=e({item:{avatar:!0,keyword:""},struct:{key:"SITE_INFO",json:{title:"",avatar:"",favicon:"",copy:{code:"",link:""},date:"",keyword:"",description:""},remark:"站点信息"},status:{finish:!1,loading:!0,dialog:!1},upload:{avatar:!1,favicon:!1}});s((async()=>{await V.init()}));const V={init:async()=>{x.status.finish=!1,x.status.loading=!0;const{code:e,data:s}=await a.get("/api/config/one",{key:"SITE_INFO"});if(x.status.loading=!1,204===e)return V.save();200===e&&(x.struct=s,s.json.keyword&&(x.item.keyword=s.json.keyword.split(",")),x.status.finish=!0)},show(){if(!x.status.finish)return t.warn("配置获取失败，无法进行配置！");x.status.dialog=!0},save:async()=>{x.status.wait=!0;const{code:e,msg:s}=await a.post("/api/config/save",{...x.struct,json:JSON.stringify(x.struct.json)});if(x.status.wait=!1,200!==e)return t.error("保存失败："+s);x.status.dialog=!1},async upload(e="image"){const s=document.createElement("input");s.type="file",s.accept="image/*",s.addEventListener("change",(async()=>{const l=new FormData;l.append("file",s.files[0]),x.item.upload=!0;const{code:n,msg:o,data:c}=await a.post("/api/file/upload",l);if(x.item.upload=!1,200!==n)return t.error(o);x.struct[e]=c.path,s.value="",t.info("上传成功！")})),s.click()}};return n((()=>x.item.keyword),(e=>{x.struct.json.keyword=e?e.join(","):""})),b({init:V.init}),(e,s)=>{const a=o("i-svg"),t=o("el-tooltip"),l=o("i-lottie"),n=o("el-avatar"),b=o("el-input"),k=o("el-button"),z=o("el-option"),S=o("el-select"),U=o("el-date-picker"),C=o("el-dialog"),O=c("loading");return i(),u(y,null,[r((i(),u("div",{onClick:s[1]||(s[1]=e=>V.show()),class:"card pointer mb-3"},[m("div",vc,[p(a,{name:"site",color:"rgb(var(--assist-color))",size:"50px",class:"position-absolute opacity-25",style:{right:"2rem"}}),m("h6",yc,[p(t,{content:"（点击卡片配置）站点信息，如：备案号、头像、favicon、关键词和描述等",placement:"top"},{default:f((()=>[m("span",wc,[p(a,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),_c])])),_:1})]),m("div",xc,[m("span",Vc,[p(l,{name:"avatar/crane",modelValue:d(x).item.avatar,"onUpdate:modelValue":s[0]||(s[0]=e=>d(x).item.avatar=e),width:"65px",height:"65px",class:"z-index-9"},null,8,["modelValue"]),p(n,{src:d(x).struct.json.avatar,size:52,style:{top:"7px",left:"2px"},class:"avatar-shadow position-absolute"},null,8,["src"])]),m("div",kc,[m("span",zc,[m("span",Sc,_(d(x).struct.json.title),1)]),m("small",Uc,_(d(x).struct.json.description||"这个人很懒，什么都没留下！"),1)])])])])),[[O,d(x).status.loading]]),p(C,{modelValue:d(x).status.dialog,"onUpdate:modelValue":s[14]||(s[14]=e=>d(x).status.dialog=e),class:"custom",draggable:"","close-on-click-modal":!1},{header:f((()=>[Cc])),default:f((()=>[m("div",Oc,[m("div",jc,[m("div",qc,[m("label",Rc,[p(t,{content:"ICP备案码",placement:"top"},{default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),Kc])])),_:1})]),p(b,{modelValue:d(x).struct.json.copy.code,"onUpdate:modelValue":s[2]||(s[2]=e=>d(x).struct.json.copy.code=e),placeholder:"ICP备案码"},null,8,["modelValue"])])]),m("div",Ic,[m("div",Jc,[m("label",Ac,[p(t,{content:"工信部网址，如：https://beian.miit.gov.cn",placement:"top"},{default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),Nc])])),_:1})]),p(b,{modelValue:d(x).struct.json.copy.link,"onUpdate:modelValue":s[3]||(s[3]=e=>d(x).struct.json.copy.link=e),placeholder:"如：https://beian.miit.gov.cn"},null,8,["modelValue"])])]),m("div",Dc,[m("div",Ec,[m("label",$c,[p(t,{content:"本站点的头像",placement:"top"},{default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),Pc])])),_:1})]),p(b,{modelValue:d(x).struct.json.avatar,"onUpdate:modelValue":s[5]||(s[5]=e=>d(x).struct.json.avatar=e),class:"custom",placeholder:"填写图片地址或点击上传"},{suffix:f((()=>[p(k,{onClick:s[4]||(s[4]=e=>V.upload()),loading:d(x).upload.avatar},{default:f((()=>[d(x).upload.avatar?v("",!0):(i(),h(a,{key:0,name:"upload",color:"rgb(var(--icon-color))",size:"14px"})),Tc])),_:1},8,["loading"])])),_:1},8,["modelValue"])])]),m("div",Wc,[m("div",Bc,[m("label",Lc,[p(t,{content:"本站点的小图标",placement:"top"},{default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),Mc])])),_:1})]),p(b,{modelValue:d(x).struct.json.favicon,"onUpdate:modelValue":s[7]||(s[7]=e=>d(x).struct.json.favicon=e),class:"custom",placeholder:"填写图片地址或点击上传"},{suffix:f((()=>[p(k,{onClick:s[6]||(s[6]=e=>V.upload()),loading:d(x).upload.favicon},{default:f((()=>[d(x).upload.favicon?v("",!0):(i(),h(a,{key:0,name:"upload",color:"rgb(var(--icon-color))",size:"14px"})),Xc])),_:1},8,["loading"])])),_:1},8,["modelValue"])])]),m("div",Fc,[m("div",Yc,[m("label",Gc,[p(t,{content:"站点标题，如：米哈游",placement:"top"},{default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),Hc])])),_:1})]),p(b,{modelValue:d(x).struct.json.title,"onUpdate:modelValue":s[8]||(s[8]=e=>d(x).struct.json.title=e)},null,8,["modelValue"])])]),m("div",Qc,[m("div",Zc,[m("label",ei,[p(t,{content:"网站关键词，主要用于SEO场景，有助于收录",placement:"top"},{default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),si])])),_:1})]),p(S,{modelValue:d(x).item.keyword,"onUpdate:modelValue":s[9]||(s[9]=e=>d(x).item.keyword=e),"reserve-keyword":!1,"default-first-option":"","collapse-tags-tooltip":"","allow-create":"",multiple:"",filterable:"","collapse-tags":"",class:"d-block custom font-13",placeholder:"请输入站点关键词"},{default:f((()=>[(i(!0),u(y,null,w(d(x).item.keyword,((e,s)=>(i(),h(z,{key:s,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])]),m("div",ai,[m("div",ti,[m("label",li,[p(t,{content:"本网站运营的开始时间",placement:"top"},{default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),ni])])),_:1})]),p(U,{modelValue:d(x).struct.json.date,"onUpdate:modelValue":s[10]||(s[10]=e=>d(x).struct.json.date=e),type:"date",format:"YYYY-MM-DD","value-format":"X",class:"d-block w-100 custom",placeholder:"请选择本站开设的时间"},null,8,["modelValue"])])])]),m("div",oi,[m("div",ci,[m("div",ii,[m("label",ui,[p(t,{content:"网站描述，主要用于SEO场景，有助于收录",placement:"top"},{default:f((()=>[m("span",null,[p(a,{color:"rgb(var(--icon-color))",name:"hint",size:"14px"}),ri])])),_:1})]),p(b,{modelValue:d(x).struct.json.description,"onUpdate:modelValue":s[11]||(s[11]=e=>d(x).struct.json.description=e),autosize:{minRows:1,maxRows:10},placeholder:"站点描述！",type:"textarea"},null,8,["modelValue"])])])])])),footer:f((()=>[p(k,{onClick:s[12]||(s[12]=e=>d(x).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(k,{onClick:s[13]||(s[13]=e=>V.save()),loading:d(x).status.wait},{default:f((()=>[g("保 存")])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}},mi={class:"card"},pi={class:"card-body"},fi={class:"text-muted text-uppercase mt-0"},gi=m("br",null,null,-1),bi=m("br",null,null,-1),hi={key:0},vi={class:"d-inline-flex align-items-center"},yi=m("span",{class:"ms-1"},"绑定 inis 社区账号",-1),wi={class:"m-b-20"},_i=m("span",{class:"badge bg-success font-white"}," 更多 ",-1),xi={class:"text-muted"},Vi={class:"d-flex flex-column align-items-center"},ki={class:"flex-center"},zi={class:"container-xxl"},Si=m("br",null,null,-1),Ui=m("span",{class:"ms-1"},"绑定 inis 社区账号",-1),Ci={class:"row mb-3 mt-3"},Oi=m("label",{class:"col-3 col-form-label"},"帐号：",-1),ji={class:"col-9"},qi={class:"row mb-3"},Ri=m("label",{class:"col-3 col-form-label"},"密码：",-1),Ki={class:"col-9 d-flex"},Ii=m("div",{class:"flex-center"},[m("a",{href:"https://inis.cc",target:"_blank",class:"text-dark"},"没有账号？去注册")],-1),Ji={class:"modal-footer d-flex justify-content-center"},Ai={__name:"bind",setup(n,{expose:h}){const w=e({struct:{account:null,password:null},status:{bind:!1,finish:!1,dialog:!1,loading:!0}}),V={init:async()=>{w.status.finish=!1,w.status.loading=!0;const{code:e,data:s}=await a.get("/inis/device/user");w.status.loading=!1,200===e&&(w.struct=s,w.status.bind=!0,w.status.finish=!0)},change:async e=>{if(e)return w.status.bind=e;const{code:s,msg:l}=await a.del("/inis/device/bind");return 200!==s?(w.status.bind=!0,t.error(l)):void 0},show(){w.status.dialog=!0},save:async()=>{if(l.is.empty(w.struct.account))return t.warn("请输入账号！");if(l.is.empty(w.struct.password))return t.warn("请输入密码！");w.status.wait=!0;const{code:e,msg:s}=await a.post("/inis/device/bind",w.struct);if(w.status.wait=!1,200!==e)return t.error(s);w.status.bind=!0,w.status.dialog=!1}};return s((async()=>{await V.init()})),h({init:V.init}),(e,s)=>{const a=o("el-tooltip"),t=o("el-switch"),l=o("el-image"),n=o("el-alert"),h=o("el-input"),k=o("el-button"),z=o("el-dialog"),S=c("loading");return i(),u(y,null,[r((i(),u("div",mi,[m("div",pi,[p(x,{name:"bind",color:"rgb(var(--assist-color))",size:"43px",class:"position-absolute opacity-25",style:{right:"2rem"}}),m("h6",fi,[p(a,{placement:"top"},{content:f((()=>[g(" ● 程序后端许多功能都依赖于 inis 社区"),gi,g(" ● 绑定仅限于为您提供更好的服务体验，不涉及您的程序任何敏感信息，请放心使用"),bi,d(w).status.bind?(i(),u("span",hi,"● 当前绑定账号："+_(d(w).struct.account),1)):v("",!0)])),default:f((()=>[m("span",vi,[p(x,{name:"hint",color:"rgb(var(--icon-color))",size:"14px"}),yi])])),_:1})]),m("h2",wi,[p(t,{modelValue:d(w).status.bind,"onUpdate:modelValue":s[0]||(s[0]=e=>d(w).status.bind=e),onChange:V.change,disabled:!d(w).status.bind,"active-text":"绑定","inactive-text":"解绑"},null,8,["modelValue","onChange","disabled"])]),_i,m("span",xi,[g(" 其它配置信息，"),m("span",{onClick:s[1]||(s[1]=e=>V.show()),class:"text-white pointer"},"点我配置")])])])),[[S,d(w).status.loading]]),p(z,{modelValue:d(w).status.dialog,"onUpdate:modelValue":s[7]||(s[7]=e=>d(w).status.dialog=e),class:"custom sm","close-on-click-modal":!1},{header:f((()=>[m("div",Vi,[m("div",ki,[p(l,{src:"https://inis.cn/assets/imgs/logo-white.png",style:{height:"52px"},class:"my-1 py-1"})])])])),default:f((()=>[m("div",zi,[p(a,{placement:"top"},{content:f((()=>[g(" 程序后端许多功能都依赖于 inis 社区，绑定仅限于为您提供更好的服务体验，不涉及您的程序任何敏感信息，请放心使用。"),Si])),default:f((()=>[p(n,{type:"success",closable:!1,center:"",class:"mb-3 box-shadow-light d-inline-flex align-items-center pointer"},{title:f((()=>[p(x,{name:"!",size:"15px",color:"var(--el-color-success)"}),Ui])),_:1})])),_:1}),m("div",Ci,[Oi,m("div",ji,[p(h,{modelValue:d(w).struct.account,"onUpdate:modelValue":s[2]||(s[2]=e=>d(w).struct.account=e),class:"custom",placeholder:"帐号 | 邮箱 | 手机号"},null,8,["modelValue"])])]),m("div",qi,[Ri,m("div",Ki,[p(h,{modelValue:d(w).struct.password,"onUpdate:modelValue":s[3]||(s[3]=e=>d(w).struct.password=e),onKeyup:s[4]||(s[4]=b((e=>V.save()),["enter"])),"show-password":"",class:"custom",placeholder:"请输入密码"},null,8,["modelValue"])])]),Ii])])),footer:f((()=>[m("div",Ji,[p(k,{onClick:s[5]||(s[5]=e=>d(w).status.dialog=!1)},{default:f((()=>[g("取 消")])),_:1}),p(k,{onClick:s[6]||(s[6]=e=>V.save()),loading:d(w).status.wait},{default:f((()=>[g(_(d(w).status.wait?"绑定中 ...":"绑 定"),1)])),_:1},8,["loading"])])])),_:1},8,["modelValue"])],64)}}},Ni={class:"container-fluid container-box"},Di={class:"row d-none d-lg-flex"},Ei={class:"col-lg-6 d-flex"},$i={class:"input-group custom-search me-1"},Pi=m("input",{class:"form-control custom search mimic",autocomplete:"new-password",type:"text",placeholder:"这是个假搜索"},null,-1),Ti={class:"col-lg-6 d-flex justify-content-end",style:{"z-index":"-1"}},Wi={class:"btn btn-auto h-35px mimic",disabled:"",type:"button"},Bi={class:"row mt-3"},Li={class:"col-12"},Mi=m("span",{class:"fw-bolder font-12"},"安全",-1),Xi={class:"row"},Fi={class:"col-md-4"},Yi={class:"col-md-4"},Gi={class:"col-md-4"},Hi={class:"col-md-4"},Qi={class:"col-md-4"},Zi={class:"col-md-4"},eu=m("span",{class:"fw-bolder font-12"},"优化",-1),su={class:"row"},au={class:"col-md-4"},tu={class:"col-md-4"},lu={class:"col-md-4"},nu=m("span",{class:"fw-bolder font-12"},"存储",-1),ou={class:"row"},cu={class:"col-md-4"},iu={class:"col-md-4"},uu={class:"col-md-4"},ru={class:"col-md-4"},du=m("span",{class:"fw-bolder font-12"},"短信",-1),mu={class:"row"},pu={class:"col-md-4"},fu={class:"col-md-4"},gu={class:"col-md-4"},bu=m("span",{class:"fw-bolder font-12"},"其他",-1),hu={class:"row"},vu={class:"col-md-4"},yu={class:"col-md-4"},wu={class:"col-md-4"},_u=m("span",{class:"fw-bolder font-12"},"inis 社区",-1),xu={class:"row"},Vu={class:"col-md-4"},ku={__name:"system",setup(a){const{ctx:t,proxy:l}=U();V();const n=e({item:{title:"系统配置",tabs:"security",menu:{...k,menuList:[{label:"刷新",icon:'<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="14" height="14">\n                    <path fill="rgb(var(--menu-icon-color))" d="M608 928c-229.76 0-416-186.24-416-416h-0.128c0-0.416 0.128-0.768 0.128-1.184a95.904 95.904 0 1 0-191.872-1.184c0 0.384-0.128 0.768-0.128 1.184l0.032 0.384c0 0.288 0.096 0.544 0.096 0.8H0c0 282.784 229.216 512 512 512 282.016 0 510.592-227.968 511.872-509.632C1022.592 743.072 836.928 928 608 928z"></path>\n                    <path fill="rgb(var(--menu-icon-color))" d="M1023.872 512H1024c0-282.784-229.216-512-512-512C230.016 0 1.408 227.968 0.128 509.632 1.408 280.96 187.072 96 416 96c229.76 0 416 186.24 416 416h0.128c0 0.416-0.128 0.768-0.128 1.184a96 96 0 0 0 96 96 95.872 95.872 0 0 0 95.872-94.816c0-0.416 0.128-0.768 0.128-1.184l-0.032-0.384c0-0.288-0.096-0.544-0.096-0.8z"></path>\n                </svg>',fn:()=>c.refresh()}]}},refresh:{inis:["device-bind"],other:["site-info","page","article"],optimize:["cache-redis","cache-file","cache-ram"],sms:["sms-email","sms-aliyun","sms-tencent"],storage:["storage-local","storage-oss","storage-cos","storage-kodo"],security:["api-key","qps","page-limit","jwt","allow-register","qps-black"]}});s((async()=>{n.item.menu.menuList.push({line:!0},...await z())}));const c={refresh(...e){let s=[...n.refresh[n.item.tabs]];e=0===e.length?s:e.filter((e=>s.includes(e)));for(let a of e)l.$refs[a].init()}};return document.addEventListener("contextmenu",(e=>{var s;e.preventDefault(),null==(s=l.$refs.mouse)||s.show(e.x,e.y)})),(e,s)=>{const a=o("i-svg"),t=o("el-tab-pane"),l=o("el-tabs");return i(),u(y,null,[m("div",Ni,[m("div",Di,[m("div",Ei,[m("div",$i,[p(a,{name:"search",color:"rgb(var(--icon-color))",size:"18px"}),Pi]),m("button",{onClick:s[0]||(s[0]=e=>c.refresh()),class:"btn btn-auto mx-1 mimic",type:"button"},"刷新")]),m("div",Ti,[m("button",Wi,_(d(n).item.title),1)])]),m("div",Bi,[m("div",Li,[p(l,{modelValue:d(n).item.tabs,"onUpdate:modelValue":s[1]||(s[1]=e=>d(n).item.tabs=e),id:"tabs-area",class:"circle"},{default:f((()=>[p(t,{name:"security"},{label:f((()=>[Mi])),default:f((()=>[m("div",Xi,[m("div",Fi,[p(O,{ref:"api-key"},null,512)]),m("div",Yi,[p(j,{ref:"qps"},null,512)]),m("div",Gi,[p(R,{ref:"qps-black"},null,512)]),m("div",Hi,[p(q,{ref:"page-limit"},null,512)]),m("div",Qi,[p(nt,{ref:"jwt"},null,512)]),m("div",Zi,[p(ja,{ref:"allow-register"},null,512)])])])),_:1}),p(t,{name:"optimize"},{label:f((()=>[eu])),default:f((()=>[m("div",su,[m("div",au,[p(Xt,{ref:"cache-redis",onRefresh:c.refresh},null,8,["onRefresh"])]),m("div",tu,[p(_l,{ref:"cache-file",onRefresh:c.refresh},null,8,["onRefresh"])]),m("div",lu,[p($l,{ref:"cache-ram",onRefresh:c.refresh},null,8,["onRefresh"])])])])),_:1}),p(t,{name:"storage"},{label:f((()=>[nu])),default:f((()=>[m("div",ou,[m("div",cu,[p(on,{ref:"storage-local",onRefresh:c.refresh},null,8,["onRefresh"])]),m("div",iu,[p(Mn,{ref:"storage-oss",onRefresh:c.refresh},null,8,["onRefresh"])]),m("div",uu,[p(Ao,{ref:"storage-cos",onRefresh:c.refresh},null,8,["onRefresh"])]),m("div",ru,[p(hc,{ref:"storage-kodo",onRefresh:c.refresh},null,8,["onRefresh"])])])])),_:1}),p(t,{name:"sms"},{label:f((()=>[du])),default:f((()=>[m("div",mu,[m("div",pu,[p(Ve,{ref:"sms-email",onRefresh:c.refresh},null,8,["onRefresh"])]),m("div",fu,[p(is,{ref:"sms-aliyun",onRefresh:c.refresh},null,8,["onRefresh"])]),m("div",gu,[p(sa,{ref:"sms-tencent",onRefresh:c.refresh},null,8,["onRefresh"])])])])),_:1}),p(t,{name:"other"},{label:f((()=>[bu])),default:f((()=>[m("div",hu,[m("div",vu,[p(K,{ref:"page",onRefresh:c.refresh},null,8,["onRefresh"])]),m("div",yu,[p(I,{ref:"article",onRefresh:c.refresh},null,8,["onRefresh"])]),m("div",wu,[p(di,{ref:"site-info",onRefresh:c.refresh},null,8,["onRefresh"])])])])),_:1}),p(t,{name:"inis"},{label:f((()=>[_u])),default:f((()=>[m("div",xu,[m("div",Vu,[p(Ai,{ref:"device-bind",onRefresh:c.refresh},null,8,["onRefresh"])])])])),_:1})])),_:1},8,["modelValue"])])])]),p(d(C),S({ref:"mouse"},d(n).item.menu),null,16)],64)}}};export{ku as default};
