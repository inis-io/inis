/* empty css                    */import{v as e,r as t,u as s,h as n,K as o,n as a,p as l,m as i,a as r,o as c,c as d,b as m,d as u,w as p,e as f,x as g,F as h,j as v,k as y,f as x,t as b,g as w,_ as k,y as _}from"./1690460619.index.js";import{U as z,_ as E}from"./1690460619.page.js";const T={class:"topnav"},q={class:"container-fluid user-select-none"},S={class:"navbar navbar-dark navbar-expand-lg topnav-menu py-1"},H={class:"collapse navbar-collapse justify-content-between"},O={class:"d-flex flex-column align-items-end user-select-text me-2"},I={key:0,class:"font-14"},N={class:"badge item left bg-dark px-2 py-1",style:{color:"#fff"}},$={class:"badge item right bg-warning px-2 py-1"},j={key:1},C={class:"d-lg-none d-black"},F={class:"d-flex justify-content-between"},L={key:0,"data-bs-toggle":"modal","data-bs-target":"#fill-item-modal",href:"javascript:",class:"mx-2"},U={key:1,href:"/admin"},A={class:"flex-center"},R={href:"/"},Y={key:0,src:"https://inis.cn/assets/images/logo.png",height:"40"},K={key:1,src:"https://inis.cn/assets/images/logo.png",height:"40"},M={class:"flex-center"},P={class:"flex-center mx-1"},V={class:"flex-center mx-1"},D={class:"flex-center mx-1"},W={class:"flex-center mx-1"},B={class:"flex-center"},G={__name:"nav",setup(k){const{ctx:_,proxy:E}=w(),G=e(),X=t({theme:"white",login:{finish:!1},user:s.get.session("USERINFO"),drawer:!1,menu:[]});n((async()=>{await J.checkToken(),X.menu=await o()})),a((async()=>{await J.getTheme()}));const J={async logout(){var e;const{code:t}=await l.del("/api/comm/logout");if(200!==t)return s.clear.session("USERINFO"),void s.clear.cookie((null==(e=null==globalThis?void 0:globalThis.inis)?void 0:e.token_name)||"INIS_LOGIN_TOKEN");X.login.finish=!1,s.clear.session("USERINFO"),setTimeout((()=>{E.$router.push("/")}),500)},async checkToken(){if(s.has.session("USERINFO"))return X.login.finish=!0;const{data:e,code:t,msg:n}=await l.post("/api/comm/check-token");if(412!==t){if(200!==t)return i.error(n);X.user=e.user,X.login.finish=!0,s.set.session("USERINFO",e.user)}},async getTheme(){let e=document.querySelector("body").getAttribute("inis-theme");s.is.empty(e)||(-1!==e.indexOf("white")?X.theme="white":X.theme="dark")},empty:e=>s.is.empty(e),router:(e={})=>G.push(e)};return(e,t)=>{var n;const o=r("el-image"),a=r("el-menu-item"),l=r("i-svg"),i=r("el-sub-menu"),w=r("el-menu"),k=r("el-avatar"),_=r("el-tooltip"),E=r("el-drawer");return c(),d(h,null,[m("div",T,[m("div",q,[m("nav",S,[m("div",H,[u(w,{class:"navbar-nav w-100",router:!0,"unique-opened":!0,"menu-trigger":"hover",mode:"horizontal","background-color":"transparent"},{default:p((()=>[u(a,{index:"/"},{default:p((()=>[u(o,{onClick:t[0]||(t[0]=e=>f(g)("/")),src:`/assets/imgs/logo-${f(X).theme}.png`,style:{width:"100px"},class:"d-flex flex-center"},null,8,["src"])])),_:1}),(c(!0),d(h,null,v(f(X).menu,((e,t)=>(c(),y(i,{key:t,index:t.toString(),"show-timeout":"50","hide-timeout":"50"},{title:p((()=>[x(b(e.label),1)])),default:p((()=>[(c(!0),d(h,null,v(e.children,((e,t)=>(c(),y(a,{key:t,index:t.toString(),onClick:t=>e.fn()},{default:p((()=>[u(l,{name:e.icon,size:e.size,color:"rgb(var(--assist-color))",class:"me-1"},null,8,["name","size"]),x(" "+b(e.label),1)])),_:2},1032,["index","onClick"])))),128))])),_:2},1032,["index"])))),128))])),_:1}),u(w,{"unique-opened":!0,mode:"horizontal",class:"navbar-nav d-flex align-items-center justify-content-end w-100","background-color":"transparent"},{default:p((()=>[u(a,{index:"1"},{default:p((()=>[u(z)])),_:1}),u(i,{"show-timeout":"50","hide-timeout":"50",index:"login-user",class:"icon-none"},{title:p((()=>{var e,t,n,o,a,l,i;return[m("div",O,[f(s).is.empty(null==(e=f(X).user)?void 0:e.title)?(c(),d("strong",j,b(null==(o=f(X).user)?void 0:o.nickname),1)):(c(),d("span",I,[m("strong",N,b(null==(t=f(X).user)?void 0:t.nickname),1),m("span",$,b(null==(n=f(X).user)?void 0:n.title),1)])),m("small",null,b(null==(a=f(X).user)?void 0:a.email),1)]),u(k,{src:(null==(l=f(X).user)?void 0:l.avatar)+((null==(i=f(X).user)?void 0:i.avatar.includes("?"))?"&":"?")+"size=40x40",class:"mirror-scan",shape:"square",size:"medium"},null,8,["src"])]})),default:p((()=>[u(a,{onClick:t[1]||(t[1]=e=>f(g)({name:"admin-home"})),index:"index-home"},{default:p((()=>[u(l,{color:"rgb(var(--assist-color))",name:"console",size:"16px",class:"me-1"}),x(" 控制台 ")])),_:1}),u(a,{onClick:t[2]||(t[2]=e=>f(g)({name:"admin-account-home"})),index:"/admin/account/home"},{default:p((()=>[u(l,{color:"rgb(var(--assist-color))",name:"personal",size:"16px",class:"me-1"}),x(" 个人中心 ")])),_:1}),u(a,null,{default:p((()=>[u(l,{color:"rgb(var(--assist-color))",name:"logout",size:"16px",class:"me-1"}),m("span",{onClick:t[3]||(t[3]=e=>J.logout()),class:"w-100"},"退出登录")])),_:1})])),_:1})])),_:1})])]),m("nav",C,[m("div",F,[m("span",null,[m("span",{onClick:t[4]||(t[4]=e=>f(X).drawer=!0),class:"mx-2"},[u(l,{color:"rgb(var(--assist-color))",name:"menu",size:"24px"})])]),m("span",null,[f(X).login.finish?(c(),d("a",U,[u(k,{src:null==(n=f(X).user)?void 0:n.avatar,size:26,class:"mx-2"},null,8,["src"])])):(c(),d("a",L,[u(l,{color:"rgb(var(--assist-color))",name:"user-white",size:"26px"})]))])])])])]),u(E,{modelValue:f(X).drawer,"onUpdate:modelValue":t[5]||(t[5]=e=>f(X).drawer=e),direction:"ltr",size:"70%","show-close":!1,class:"card"},{header:p((()=>[m("span",A,[m("a",R,["dark"===f(X).theme?(c(),d("img",Y)):(c(),d("img",K))])])])),default:p((()=>[x(" 这是内容 ")])),footer:p((()=>[m("span",M,[m("span",P,[u(_,{class:"box-item",effect:"dark",content:"97783391",placement:"top"},{default:p((()=>[u(l,{name:"qq",size:"24px"})])),_:1})]),m("span",V,[u(_,{class:"box-item",effect:"dark",content:"v-inis",placement:"top"},{default:p((()=>[u(l,{name:"we-chat",size:"22px"})])),_:1})]),m("span",D,[u(_,{class:"box-item",effect:"dark",content:"97783391@qq.com",placement:"top"},{default:p((()=>[u(l,{name:"email",size:"26px"})])),_:1})]),m("span",W,[u(_,{class:"box-item",effect:"dark",content:"racns",placement:"top"},{default:p((()=>[u(l,{name:"github",size:"26px"})])),_:1})]),m("span",B,[u(_,{class:"box-item",effect:"dark",content:"萌卜兔",placement:"top"},{default:p((()=>[u(l,{name:"bilibili",size:"38px"})])),_:1})])])])),_:1},8,["modelValue"])],64)}}},X={ref:"pointer",id:"pointer"},J={id:"background"},Q={ref:"cover",class:"cover",style:{opacity:"1",transition:"all 1.5s ease 0s"}},Z={id:"go-to-top",ref:"go-to-top",class:"d-none"},ee={class:"flex-center p-0",type:"button"},te=k({__name:"beautify",setup(e){const{ctx:n,proxy:o}=w(),l=Math.round((new Date).getTime()/1e3),i=t({cover:`https://api.inis.cc/api/file/random?name=cure&unix=${l}`});return a((()=>{const e=o.$refs.pointer,t=e.offsetWidth/2,n=(s,n)=>{e.style.transform=`translate(${s-t+1}px, ${(()=>{let e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e})()+n-t+1}px)`};document.querySelector("body").addEventListener("mousemove",(e=>window.requestAnimationFrame((()=>{n(e.clientX,e.clientY)}))));const a=document.querySelector("#loading-box");a&&setTimeout((()=>a.classList.add("loaded")),500);const l=o.$refs.cover;o.$refs["bg-img"],l.style.setProperty("opacity",0),l.style.setProperty("transition","all 1.5s ease 0s"),Boolean(window.navigator.userAgent.match(/AppWebKit.*Mobile.*/))&&(e.style.display="none"),window.onscroll=()=>{let[e,t]=[null,!0],n=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;const a=o.$refs["go-to-top"];a.style.setProperty("display",n>300?"block":"none","important"),a.addEventListener("click",(()=>{t=!0,e=setTimeout((()=>{t&&s.to.scroll(0)}),150)})),a.addEventListener("dblclick",(()=>{clearTimeout(e),t=!1,s.to.scroll(l())}));const l=()=>{let e=0;return e=document.body.clientHeight&&document.documentElement.clientHeight?document.body.clientHeight<document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight:document.body.clientHeight>document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-e}}})),(e,t)=>{const s=r("el-image"),n=r("i-svg");return c(),d(h,null,[m("div",X,null,512),m("div",J,[u(s,{src:"/assets/imgs/bg.webp",fit:"cover",style:{width:"100%",height:"100%",position:"fixed",left:"0",top:"0"}},{error:p((()=>[u(s,{src:f(i).cover,fit:"cover",style:{width:"100%",height:"100%",position:"fixed",left:"0",top:"0"}},null,8,["src"])])),_:1}),m("div",Q,null,512)]),m("div",Z,[m("button",ee,[u(n,{name:"go-to-top",size:"30px"})])],512)],64)}}},[["__scopeId","data-v-052a89ff"]]),se={id:"footer",class:"text-white user-select-none"},ne={href:"https://inis.cc",target:"_blank",class:"text-white"},oe={__name:"footer",setup(e){const o=t({year:(new Date).getFullYear(),version:{theme:inis.version,system:"3.0.0"}});n((async()=>{await a.version()}));const a={version:async()=>{var e,t,n;const a="system-version-local";if(!s.is.empty(null==(e=_)?void 0:e.get(a)))return void(o.version.system=null==(t=_)?void 0:t.get(a));const{code:i,data:r}=await l.get("/dev/info/version");200===i&&(o.version.system=null==r?void 0:r.inis,null==(n=_)||n.set(a,null==r?void 0:r.inis,1440))}};return(e,t)=>(c(),d("footer",se,[m("span",null,"Copyright © 2020 - "+b(f(o).year),1),m("span",null,[x(" & "),m("a",ne,"inis "+b(f(o).version.system),1)]),m("span",null," & theme "+b(f(o).version.theme),1)]))}},ae={__name:"base",setup:e=>(a((()=>{const e=document.querySelector("body");e.setAttribute("data-layout","topnav"),e.setAttribute("inis-theme","white"),e.classList.add("user-select-none");document.querySelector("#app").classList.add("admin")})),(e,t)=>{const s=r("router-view");return c(),d(h,null,[u(te),u(G),u(s),u(oe),u(E)],64)})};export{ae as default};
